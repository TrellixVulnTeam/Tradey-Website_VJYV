{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{d2mR:function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return a});var s=n(\"3Pt+\"),o=n(\"ofXK\"),i=n(\"fXoL\");let a=(()=>{class t{}return t.\\u0275mod=i.Kb({type:t}),t.\\u0275inj=i.Jb({factory:function(e){return new(e||t)},providers:[],imports:[[s.b,s.h,o.b]]}),t})()},hZP9:function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return c});var s=n(\"2Vo4\"),o=n(\"fXoL\"),i=n(\"UbJi\"),a=n(\"I/3d\"),r=n(\"tk/3\");let c=(()=>{class t{constructor(t,e,n){this.auth=t,this.db=e,this.http=n,this.isLoggedIn=!1,this.user={auth:null,data:null},this.userObservable=new s.a(null),this.updateUserState()}updateUserState(){this.auth.onAuthStateChanged(t=>{null!=t?(console.log(\"logged in\"),this.user.auth=t,this.isLoggedIn=!0,this.getUserFromEmail(t.email).then(t=>{this.user.data=t,console.log(this.user),this.userObservable.next(this.user.data)})):(this.user.auth=null,this.user.data=null,this.isLoggedIn=!1,console.log(\"logged out\"),this.userObservable.next(null)),console.log(\"auth data has changed!\")})}getUserFromEmail(t){return new Promise((e,n)=>{this.db.collection(\"users\",e=>e.where(\"email\",\"==\",t)).get().forEach(t=>{t.forEach(t=>{e(t.data())})})})}createUser(t,e,n){return new Promise((s,o)=>{this.checkIfNicknameIsTaken(n).then(i=>{if(1==i)o(\"This nickname has already been taken!\");else{let i=\"http://127.0.0.1:5000/createUser?userID=\"+t+\"&nickname=\"+n;console.log(i),this.http.get(i).subscribe(t=>{console.log(\"brought message back from server.\",t)}),this.auth.createUserWithEmailAndPassword(t,e).then(e=>{let i={id:e.user.uid,email:t,nickname:n};this.db.collection(\"users\").doc(i.id).set(i).then(t=>{s(t)}).catch(t=>{o(t)})}).catch(t=>{o(t.message)})}})})}login(t,e){return new Promise((n,s)=>{this.auth.signInWithEmailAndPassword(t,e).then(()=>{n()}).catch(t=>{console.log(t)})})}sendForgotPasswordEmail(t){return new Promise((e,n)=>{this.auth.sendPasswordResetEmail(t).then(()=>{e(!0)})})}logout(){this.auth.signOut()}checkIfNicknameIsTaken(t){return new Promise((e,n)=>{this.db.collection(\"users\",e=>e.where(\"nickname\",\"==\",t)).get().forEach(t=>{e(0!=t.size)})})}}return t.\\u0275fac=function(e){return new(e||t)(o.Tb(i.a),o.Tb(a.a),o.Tb(r.a))},t.\\u0275prov=o.Ib({token:t,factory:t.\\u0275fac,providedIn:\"root\"}),t})()},hrlM:function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return O});var s=n(\"mrSG\"),o=n(\"fXoL\"),i=n(\"TEn/\"),a=n(\"hZP9\"),r=n(\"3Pt+\"),c=n(\"ofXK\");function l(t,e){if(1&t){const t=o.Qb();o.Pb(0,\"input\",8),o.Xb(\"ngModelChange\",function(e){return o.hc(t),o.Zb().passwordInput=e}),o.Ob()}if(2&t){const t=o.Zb();o.ec(\"ngModel\",t.passwordInput)}}function u(t,e){if(1&t){const t=o.Qb();o.Pb(0,\"input\",9),o.Xb(\"ngModelChange\",function(e){return o.hc(t),o.Zb().nicknameInput=e}),o.Ob()}if(2&t){const t=o.Zb();o.ec(\"ngModel\",t.nicknameInput)}}function h(t,e){if(1&t){const t=o.Qb();o.Pb(0,\"a\",10),o.Xb(\"click\",function(){return o.hc(t),o.Zb().changeState(\"login\")}),o.mc(1,\"Already have an account? Click here to login!\"),o.Ob()}}function b(t,e){if(1&t){const t=o.Qb();o.Pb(0,\"a\",10),o.Xb(\"click\",function(){return o.hc(t),o.Zb().changeState(\"signup\")}),o.mc(1,\"Don't have an account? Click here to sign up!\"),o.Ob()}}function d(t,e){if(1&t){const t=o.Qb();o.Pb(0,\"a\",10),o.Xb(\"click\",function(){return o.hc(t),o.Zb().changeState(\"forgotPassword\")}),o.mc(1,\"Forgot your password?\"),o.Ob()}}let g=(()=>{class t{constructor(t,e){this.toastController=t,this.userAuthService=e,this.state=\"\",this.headerText=\"Sign Up\",this.emailInput=\"\",this.passwordInput=\"\",this.nicknameInput=\"\"}ngOnInit(){this.changeState(\"login\")}closeModal(){this.modal.dismiss()}changeState(t){this.state=t,\"login\"==this.state?this.headerText=\"Login\":\"signup\"==this.state?this.headerText=\"Sign Up\":\"forgotPassword\"==this.state&&(this.headerText=\"Forgot Password\")}submit(){0!=this.validateEmail(this.emailInput)?\"forgotPassword\"!=this.state&&this.passwordInput.length<8?this.presentToast(\"Password must be at least 8 characters\",\"danger\"):\"signup\"!=this.state||\"\"!=this.nicknameInput?\"login\"==this.state?(console.log(\"do login stuff\"),this.userAuthService.login(this.emailInput,this.passwordInput).then(()=>{this.modal.dismiss()})):\"signup\"==this.state?(console.log(\"do signup stuff\"),this.presentToast(\"Thank you for signing up!\",\"success\"),this.userAuthService.createUser(this.emailInput,this.passwordInput,this.nicknameInput).then(t=>{this.modal.dismiss()}).catch(t=>{this.presentToast(t,\"danger\")})):\"forgotPassword\"==this.state&&(this.userAuthService.sendForgotPasswordEmail(this.emailInput).then(()=>{this.presentToast(\"Reset password email has been sent!\",\"success\")}),console.log(\"do forgot password stuff\"),this.modal.dismiss()):this.presentToast(\"Please enter a nickname\",\"danger\"):this.presentToast(\"Please enter a valid email!\",\"danger\")}validateEmail(t){return/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())}presentToast(t,e){return Object(s.b)(this,void 0,void 0,function*(){(yield this.toastController.create({message:t,duration:5e3,color:e})).present()})}}return t.\\u0275fac=function(e){return new(e||t)(o.Mb(i.m),o.Mb(a.a))},t.\\u0275cmp=o.Gb({type:t,selectors:[[\"app-modal-login\"]],decls:12,vars:7,consts:[[1,\"container\"],[1,\"login-template\"],[1,\"header-text\"],[\"placeholder\",\"Email\",3,\"ngModel\",\"ngModelChange\"],[\"type\",\"password\",\"placeholder\",\"Password\",3,\"ngModel\",\"ngModelChange\",4,\"ngIf\"],[\"placeholder\",\"Nickname\",3,\"ngModel\",\"ngModelChange\",4,\"ngIf\"],[\"class\",\"change-template-link\",\"href\",\"javascript:;\",3,\"click\",4,\"ngIf\"],[\"color\",\"primary\",1,\"submit-button\",3,\"click\"],[\"type\",\"password\",\"placeholder\",\"Password\",3,\"ngModel\",\"ngModelChange\"],[\"placeholder\",\"Nickname\",3,\"ngModel\",\"ngModelChange\"],[\"href\",\"javascript:;\",1,\"change-template-link\",3,\"click\"]],template:function(t,e){1&t&&(o.Pb(0,\"div\",0),o.Pb(1,\"div\",1),o.Pb(2,\"p\",2),o.mc(3),o.Ob(),o.Pb(4,\"input\",3),o.Xb(\"ngModelChange\",function(t){return e.emailInput=t}),o.Ob(),o.lc(5,l,1,1,\"input\",4),o.lc(6,u,1,1,\"input\",5),o.lc(7,h,2,0,\"a\",6),o.lc(8,b,2,0,\"a\",6),o.lc(9,d,2,0,\"a\",6),o.Pb(10,\"ion-button\",7),o.Xb(\"click\",function(){return e.submit()}),o.mc(11,\"Submit\"),o.Ob(),o.Ob(),o.Ob()),2&t&&(o.Cb(3),o.nc(e.headerText),o.Cb(1),o.ec(\"ngModel\",e.emailInput),o.Cb(1),o.ec(\"ngIf\",\"forgotPassword\"!=e.state),o.Cb(1),o.ec(\"ngIf\",\"signup\"==e.state),o.Cb(1),o.ec(\"ngIf\",\"login\"!=e.state),o.Cb(1),o.ec(\"ngIf\",\"signup\"!=e.state),o.Cb(1),o.ec(\"ngIf\",\"login\"==e.state))},directives:[r.a,r.e,r.f,c.i],styles:[\".container[_ngcontent-%COMP%]{margin:3%;height:100%}.login-template[_ngcontent-%COMP%]{display:flex;flex-direction:column}input[_ngcontent-%COMP%]{border:1px solid #d3d3d3;border-radius:5px;margin-bottom:3%}.header[_ngcontent-%COMP%]{font-size:23px}.change-template-link[_ngcontent-%COMP%]{margin-bottom:3%}.submit-btn[_ngcontent-%COMP%]{margin-top:2%}\"]}),t})();var m=n(\"tyNb\");function p(t,e){if(1&t){const t=o.Qb();o.Pb(0,\"ion-button\",8),o.Xb(\"click\",function(){return o.hc(t),o.Zb().sendToSearch()}),o.mc(1,\"Stocks Search\"),o.Ob()}}function f(t,e){if(1&t){const t=o.Qb();o.Pb(0,\"ion-button\",9),o.Xb(\"click\",function(){return o.hc(t),o.Zb().sendToWatchlist()}),o.mc(1,\"Watchlist\"),o.Ob()}}function P(t,e){if(1&t){const t=o.Qb();o.Pb(0,\"ion-button\",10),o.Xb(\"click\",function(){return o.hc(t),o.Zb().sendToPortfolio()}),o.mc(1,\"Portfolio\"),o.Ob()}}let O=(()=>{class t{constructor(t,e,n){this.router=t,this.modalController=e,this.userAuthService=n,this.isLoggedIn=!1}sendToPortfolio(){this.router.navigate([\"/portfolio\"])}sendToWatchlist(){this.router.navigate([\"/watch-list\"])}sendToSearch(){this.router.navigate([\"/search\"])}sendToHome(){this.router.navigate([\"/\"])}ngOnInit(){this.userAuthService.userObservable.subscribe(t=>{this.user=t,this.isLoggedIn=null!=this.user})}getLoginButtonText(){return 0==this.isLoggedIn?\"Login\":\"Logout\"}submit(){null==this.user?this.presentModal():this.userAuthService.logout()}presentModal(){return Object(s.b)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:g,cssClass:\"login-modal\"});return t.componentProps={modal:t},yield t.present()})}checkLoginAction(){return Object(s.b)(this,void 0,void 0,function*(){null==this.user?this.presentModal():this.userAuthService.logout()})}}return t.\\u0275fac=function(e){return new(e||t)(o.Mb(m.g),o.Mb(i.k),o.Mb(a.a))},t.\\u0275cmp=o.Gb({type:t,selectors:[[\"navbar\"]],decls:10,vars:4,consts:[[1,\"toolbar\"],[1,\"header-content-container\"],[\"src\",\"assets/logo.png\",\"alt\",\"your image\",1,\"logo\",3,\"click\"],[1,\"buttons-container\"],[\"class\",\"stocks-btn\",3,\"click\",4,\"ngIf\"],[\"class\",\"watchlist-btn\",3,\"click\",4,\"ngIf\"],[\"class\",\"portfolio-btn\",3,\"click\",4,\"ngIf\"],[1,\"login-btn\",3,\"click\"],[1,\"stocks-btn\",3,\"click\"],[1,\"watchlist-btn\",3,\"click\"],[1,\"portfolio-btn\",3,\"click\"]],template:function(t,e){1&t&&(o.Pb(0,\"ion-header\"),o.Pb(1,\"ion-toolbar\",0),o.Pb(2,\"div\",1),o.Pb(3,\"img\",2),o.Xb(\"click\",function(){return e.sendToHome()}),o.Ob(),o.Pb(4,\"div\",3),o.lc(5,p,2,0,\"ion-button\",4),o.lc(6,f,2,0,\"ion-button\",5),o.lc(7,P,2,0,\"ion-button\",6),o.Pb(8,\"ion-button\",7),o.Xb(\"click\",function(){return e.submit()}),o.mc(9),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob()),2&t&&(o.Cb(5),o.ec(\"ngIf\",\"/search\"!=e.router.url&&1==e.isLoggedIn),o.Cb(1),o.ec(\"ngIf\",\"/watch-list\"!=e.router.url&&1==e.isLoggedIn),o.Cb(1),o.ec(\"ngIf\",\"/portfolio\"!=e.router.url&&1==e.isLoggedIn),o.Cb(2),o.nc(e.getLoginButtonText()))},directives:[c.i],styles:[\".header-content-container[_ngcontent-%COMP%]{display:flex}.toolbar[_ngcontent-%COMP%]{--background:#6bb37a;color:#9cdcf0}.login-btn[_ngcontent-%COMP%]{margin-right:20px;margin-left:20px}.stocks-btn[_ngcontent-%COMP%]{--background:#6bb37a}.portfolio-btn[_ngcontent-%COMP%], .watchlist-btn[_ngcontent-%COMP%]{--background:#6bb37a;margin-left:10px}.logo[_ngcontent-%COMP%]{width:200px}.buttons-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:100%;align-items:center}\"]}),t})()},poxI:function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return l});var s=n(\"mrSG\"),o=n(\"fXoL\"),i=n(\"tk/3\"),a=n(\"hZP9\"),r=n(\"TEn/\"),c=n(\"3Pt+\");let l=(()=>{class t{constructor(t,e,n){this.http=t,this.userAuth=e,this.toastController=n}ngOnInit(){this.date1=(new Date).toISOString().slice(0,10),this.userAuth.userObservable.subscribe(t=>{this.user=t}),this.http.get(\"http://127.0.0.1:5000/getBalance?userID=\"+this.user.email).subscribe(t=>{this.cashBalance=this.currencyFormat(t.data[0].currentBalance),this.buyingPower=this.currencyFormat(t.data[0].currentBalance-t.data[1].holdingBalance)})}currencyFormat(t){return\"$\"+t.toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g,\"$1,\")}submit(){var t=Math.abs(this.parseDate(this.date).getTime()-(new Date).getTime()),e=Math.ceil(t/864e5);this.http.get(\"http://127.0.0.1:5000/createOrder?orderType=buy&userID=\"+this.user.email+\"&symbol=\"+this.value+\"&price=\"+this.price+\"&amount=\"+this.amount+\"&limit=\"+e).subscribe(t=>{console.log(\"brought message back from server.\",t.data),this.modal.dismiss(),\"insufficientFunds\"==t.data?this.presentToast(\"insufficient Funds.\",\"danger\"):this.presentToast(\"Created a buy order for \"+this.value+\" at $\"+this.price+\" for \"+this.amount+\" shares expiring in \"+e+\" days.\",\"success\")})}parseDate(t){var e=t.match(/(\\d+)/g);return new Date(e[0],e[1]-1,e[2])}presentToast(t,e){return Object(s.b)(this,void 0,void 0,function*(){(yield this.toastController.create({message:t,duration:5e3,color:e})).present()})}}return t.\\u0275fac=function(e){return new(e||t)(o.Mb(i.a),o.Mb(a.a),o.Mb(r.m))},t.\\u0275cmp=o.Gb({type:t,selectors:[[\"app-modal-buy\"]],inputs:{value:\"value\"},decls:32,vars:7,consts:[[1,\"container\"],[1,\"balance\"],[1,\"cash-balance\"],[1,\"buying-power\"],[1,\"buy-template\"],[1,\"header-text\",2,\"display\",\"flex\",\"flex-direction\",\"column\",\"text-align\",\"center\"],[\"type\",\"text\",\"readonly\",\"\",3,\"value\"],[\"name\",\"num\",\"type\",\"number\",\"placeholder\",\"Amount\",\"min\",\"1\",\"step\",\"1\",\"onkeypress\",\"return event.charCode >= 48 && event.charCode <= 57\",3,\"ngModel\",\"ngModelChange\"],[\"placeholder\",\"Price\",\"min\",\"1\",\"onkeypress\",\"return event.charCode >= 46 && event.charCode <= 57\",3,\"ngModel\",\"ngModelChange\"],[\"type\",\"date\",\"id\",\"birthday\",\"name\",\"birthday\",3,\"ngModel\",\"min\",\"ngModelChange\"],[\"color\",\"primary\",1,\"submit-button\",3,\"click\"]],template:function(t,e){1&t&&(o.Pb(0,\"div\",0),o.Pb(1,\"h1\"),o.mc(2,\"Balance\"),o.Ob(),o.Pb(3,\"div\",1),o.Pb(4,\"div\",2),o.Pb(5,\"h3\"),o.mc(6,\"Cash balance:\"),o.Ob(),o.Pb(7,\"p\"),o.mc(8),o.Ob(),o.Ob(),o.Pb(9,\"div\",3),o.Pb(10,\"h3\"),o.mc(11,\"Buying power:\"),o.Ob(),o.Pb(12,\"p\"),o.mc(13),o.Ob(),o.Ob(),o.Ob(),o.Nb(14,\"hr\"),o.Pb(15,\"div\",4),o.Pb(16,\"h1\",5),o.mc(17,\"BUY\"),o.Ob(),o.Pb(18,\"label\"),o.mc(19,\"Symbol: \"),o.Ob(),o.Nb(20,\"input\",6),o.Pb(21,\"label\"),o.mc(22,\"Amount: \"),o.Ob(),o.Pb(23,\"input\",7),o.Xb(\"ngModelChange\",function(t){return e.amount=t}),o.Ob(),o.Pb(24,\"label\"),o.mc(25,\"Price: \"),o.Ob(),o.Pb(26,\"input\",8),o.Xb(\"ngModelChange\",function(t){return e.price=t}),o.Ob(),o.Pb(27,\"label\"),o.mc(28,\"Limit: \"),o.Ob(),o.Pb(29,\"input\",9),o.Xb(\"ngModelChange\",function(t){return e.date=t}),o.Ob(),o.Pb(30,\"ion-button\",10),o.Xb(\"click\",function(){return e.submit()}),o.mc(31,\"Submit\"),o.Ob(),o.Ob(),o.Ob()),2&t&&(o.Cb(8),o.nc(e.cashBalance),o.Cb(5),o.nc(e.buyingPower),o.Cb(7),o.fc(\"value\",e.value),o.Cb(3),o.ec(\"ngModel\",e.amount),o.Cb(3),o.ec(\"ngModel\",e.price),o.Cb(3),o.fc(\"min\",e.date1),o.ec(\"ngModel\",e.date))},directives:[c.g,c.a,c.e,c.f],styles:[\".container[_ngcontent-%COMP%]{margin:3%;height:100%}.buy-template[_ngcontent-%COMP%]{display:flex;flex-direction:column}input[_ngcontent-%COMP%]{border:1px solid #d3d3d3;border-radius:5px;margin-bottom:3%}.header[_ngcontent-%COMP%]{font-size:23px}.change-template-link[_ngcontent-%COMP%]{margin-bottom:3%}.submit-btn[_ngcontent-%COMP%]{margin-top:2%}hr[_ngcontent-%COMP%]{border:0;transform:rotate(0deg);clear:both;display:block;width:96%;background-color:#ff0;height:1px}.buying-power[_ngcontent-%COMP%]{margin-left:3%}.balance[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}\"]}),t})()}}]);","name":"2.0af8b32c61dbd3a4ba26.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[2],{\n\n/***/ \"d2mR\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return SharedModule; });\n/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"3Pt+\");\n/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"ofXK\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"fXoL\");\n\r\n\r\n\r\nlet SharedModule = /*@__PURE__*/ (() => {\r\n    class SharedModule {\r\n    }\r\n    SharedModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_2__[/* ɵɵdefineNgModule */ \"Kb\"]({ type: SharedModule });\r\n    SharedModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_2__[/* ɵɵdefineInjector */ \"Jb\"]({ factory: function SharedModule_Factory(t) { return new (t || SharedModule)(); }, providers: [], imports: [[_angular_forms__WEBPACK_IMPORTED_MODULE_0__[/* FormsModule */ \"b\"], _angular_forms__WEBPACK_IMPORTED_MODULE_0__[/* ReactiveFormsModule */ \"h\"], _angular_common__WEBPACK_IMPORTED_MODULE_1__[/* CommonModule */ \"b\"]]] });\r\n    return SharedModule;\r\n})();\r\n\n\n/***/ }),\n\n/***/ \"hZP9\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return UserAuthService; });\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"2Vo4\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"fXoL\");\n/* harmony import */ var _angular_fire_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"UbJi\");\n/* harmony import */ var _angular_fire_firestore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"I/3d\");\n/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"tk/3\");\n\r\n\r\n\r\n\r\n\r\nlet UserAuthService = /*@__PURE__*/ (() => {\r\n    class UserAuthService {\r\n        constructor(auth, db, http) {\r\n            this.auth = auth;\r\n            this.db = db;\r\n            this.http = http;\r\n            this.isLoggedIn = false;\r\n            this.user = { auth: null, data: null };\r\n            // auth.createUserWithEmailAndPassword(\"test@hotmail.com\", \"testtest\");\r\n            this.userObservable = new rxjs__WEBPACK_IMPORTED_MODULE_0__[/* BehaviorSubject */ \"a\"](null);\r\n            this.updateUserState();\r\n        }\r\n        updateUserState() {\r\n            this.auth.onAuthStateChanged(auth => {\r\n                // if user is signed in\r\n                if (auth != null) {\r\n                    console.log(\"logged in\");\r\n                    this.user.auth = auth;\r\n                    this.isLoggedIn = true;\r\n                    this.getUserFromEmail(auth.email).then(userData => {\r\n                        this.user.data = userData;\r\n                        console.log(this.user);\r\n                        // Alert the rest of the website that the user info changed\r\n                        this.userObservable.next(this.user.data);\r\n                    });\r\n                }\r\n                else {\r\n                    this.user.auth = null;\r\n                    this.user.data = null;\r\n                    this.isLoggedIn = false;\r\n                    console.log(\"logged out\");\r\n                    this.userObservable.next(null);\r\n                }\r\n                console.log(\"auth data has changed!\");\r\n            });\r\n        }\r\n        getUserFromEmail(email) {\r\n            return new Promise((resolve, reject) => {\r\n                this.db.collection(\"users\", ref => ref.where(\"email\", \"==\", email)).get().forEach(userList => {\r\n                    userList.forEach(user => {\r\n                        resolve(user.data());\r\n                    });\r\n                });\r\n            });\r\n        }\r\n        createUser(email, password, nickname) {\r\n            // Create a promise\r\n            return new Promise((resolve, reject) => {\r\n                // Check if the nickname was taken\r\n                this.checkIfNicknameIsTaken(nickname).then(isTaken => {\r\n                    if (isTaken == true) {\r\n                        reject(\"This nickname has already been taken!\");\r\n                    }\r\n                    else {\r\n                        let url = 'http://127.0.0.1:5000/createUser?userID=' + email + \"&nickname=\" + nickname;\r\n                        console.log(url);\r\n                        this.http.get(url).subscribe(result => {\r\n                            console.log(\"brought message back from server.\", result);\r\n                        });\r\n                        this.auth.createUserWithEmailAndPassword(email, password).then(userAuthData => {\r\n                            // Create user in our cloud firestore database\r\n                            let user = { id: userAuthData.user.uid, email: email, nickname: nickname };\r\n                            this.db.collection(\"users\").doc(user.id).set(user).then(userData => {\r\n                                resolve(userData);\r\n                            })\r\n                                .catch(error => {\r\n                                reject(error);\r\n                            });\r\n                        }).catch(error => {\r\n                            reject(error.message);\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        login(email, password) {\r\n            return new Promise((resolve, reject) => {\r\n                this.auth.signInWithEmailAndPassword(email, password).then(() => {\r\n                    resolve();\r\n                }).catch(error => {\r\n                    console.log(error);\r\n                    let errorMessage = error.message;\r\n                });\r\n            });\r\n        }\r\n        sendForgotPasswordEmail(email) {\r\n            return new Promise((resolve, reject) => {\r\n                this.auth.sendPasswordResetEmail(email).then(() => {\r\n                    resolve(true);\r\n                });\r\n            });\r\n        }\r\n        logout() {\r\n            this.auth.signOut();\r\n        }\r\n        checkIfNicknameIsTaken(nickname) {\r\n            return new Promise((resolve, reject) => {\r\n                this.db.collection(\"users\", ref => ref.where(\"nickname\", \"==\", nickname)).get().forEach(usersList => {\r\n                    // If no users are returned nickname is not taken. Return false\r\n                    if (usersList.size == 0) {\r\n                        resolve(false);\r\n                    }\r\n                    // If users are returned nickname is taken. Return true\r\n                    else {\r\n                        resolve(true);\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    }\r\n    UserAuthService.ɵfac = function UserAuthService_Factory(t) { return new (t || UserAuthService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵinject */ \"Tb\"](_angular_fire_auth__WEBPACK_IMPORTED_MODULE_2__[/* AngularFireAuth */ \"a\"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵinject */ \"Tb\"](_angular_fire_firestore__WEBPACK_IMPORTED_MODULE_3__[/* AngularFirestore */ \"a\"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵinject */ \"Tb\"](_angular_common_http__WEBPACK_IMPORTED_MODULE_4__[/* HttpClient */ \"a\"])); };\r\n    UserAuthService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵdefineInjectable */ \"Ib\"]({ token: UserAuthService, factory: UserAuthService.ɵfac, providedIn: 'root' });\r\n    return UserAuthService;\r\n})();\r\n\n\n/***/ }),\n\n/***/ \"hrlM\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ navbar_component_NavbarComponent; });\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 6 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./src/app/services/user-auth.service.ts\nvar user_auth_service = __webpack_require__(\"hZP9\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js + 1 modules\nvar fesm2015_forms = __webpack_require__(\"3Pt+\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// CONCATENATED MODULE: ./src/app/components/modal-login/modal-login.component.ts\n\r\n\r\n\r\n\r\n\r\n\r\nfunction ModalLoginComponent_input_5_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        const _r6 = core[\"Qb\" /* ɵɵgetCurrentView */]();\r\n        core[\"Pb\" /* ɵɵelementStart */](0, \"input\", 8);\r\n        core[\"Xb\" /* ɵɵlistener */](\"ngModelChange\", function ModalLoginComponent_input_5_Template_input_ngModelChange_0_listener($event) { core[\"hc\" /* ɵɵrestoreView */](_r6); const ctx_r5 = core[\"Zb\" /* ɵɵnextContext */](); return ctx_r5.passwordInput = $event; });\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const ctx_r0 = core[\"Zb\" /* ɵɵnextContext */]();\r\n        core[\"ec\" /* ɵɵproperty */](\"ngModel\", ctx_r0.passwordInput);\r\n    }\r\n}\r\nfunction ModalLoginComponent_input_6_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        const _r8 = core[\"Qb\" /* ɵɵgetCurrentView */]();\r\n        core[\"Pb\" /* ɵɵelementStart */](0, \"input\", 9);\r\n        core[\"Xb\" /* ɵɵlistener */](\"ngModelChange\", function ModalLoginComponent_input_6_Template_input_ngModelChange_0_listener($event) { core[\"hc\" /* ɵɵrestoreView */](_r8); const ctx_r7 = core[\"Zb\" /* ɵɵnextContext */](); return ctx_r7.nicknameInput = $event; });\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const ctx_r1 = core[\"Zb\" /* ɵɵnextContext */]();\r\n        core[\"ec\" /* ɵɵproperty */](\"ngModel\", ctx_r1.nicknameInput);\r\n    }\r\n}\r\nfunction ModalLoginComponent_a_7_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        const _r10 = core[\"Qb\" /* ɵɵgetCurrentView */]();\r\n        core[\"Pb\" /* ɵɵelementStart */](0, \"a\", 10);\r\n        core[\"Xb\" /* ɵɵlistener */](\"click\", function ModalLoginComponent_a_7_Template_a_click_0_listener() { core[\"hc\" /* ɵɵrestoreView */](_r10); const ctx_r9 = core[\"Zb\" /* ɵɵnextContext */](); return ctx_r9.changeState(\"login\"); });\r\n        core[\"mc\" /* ɵɵtext */](1, \"Already have an account? Click here to login!\");\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n    }\r\n}\r\nfunction ModalLoginComponent_a_8_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        const _r12 = core[\"Qb\" /* ɵɵgetCurrentView */]();\r\n        core[\"Pb\" /* ɵɵelementStart */](0, \"a\", 10);\r\n        core[\"Xb\" /* ɵɵlistener */](\"click\", function ModalLoginComponent_a_8_Template_a_click_0_listener() { core[\"hc\" /* ɵɵrestoreView */](_r12); const ctx_r11 = core[\"Zb\" /* ɵɵnextContext */](); return ctx_r11.changeState(\"signup\"); });\r\n        core[\"mc\" /* ɵɵtext */](1, \"Don't have an account? Click here to sign up!\");\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n    }\r\n}\r\nfunction ModalLoginComponent_a_9_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        const _r14 = core[\"Qb\" /* ɵɵgetCurrentView */]();\r\n        core[\"Pb\" /* ɵɵelementStart */](0, \"a\", 10);\r\n        core[\"Xb\" /* ɵɵlistener */](\"click\", function ModalLoginComponent_a_9_Template_a_click_0_listener() { core[\"hc\" /* ɵɵrestoreView */](_r14); const ctx_r13 = core[\"Zb\" /* ɵɵnextContext */](); return ctx_r13.changeState(\"forgotPassword\"); });\r\n        core[\"mc\" /* ɵɵtext */](1, \"Forgot your password?\");\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n    }\r\n}\r\nlet modal_login_component_ModalLoginComponent = /*@__PURE__*/ (() => {\r\n    class ModalLoginComponent {\r\n        constructor(toastController, userAuthService) {\r\n            this.toastController = toastController;\r\n            this.userAuthService = userAuthService;\r\n            this.state = \"\";\r\n            this.headerText = \"Sign Up\";\r\n            this.emailInput = \"\";\r\n            this.passwordInput = \"\";\r\n            this.nicknameInput = \"\";\r\n        }\r\n        ngOnInit() {\r\n            this.changeState(\"login\");\r\n        }\r\n        closeModal() {\r\n            this.modal.dismiss();\r\n        }\r\n        changeState(state) {\r\n            this.state = state;\r\n            if (this.state == \"login\") {\r\n                this.headerText = \"Login\";\r\n            }\r\n            else if (this.state == \"signup\") {\r\n                this.headerText = \"Sign Up\";\r\n            }\r\n            else if (this.state == \"forgotPassword\") {\r\n                this.headerText = \"Forgot Password\";\r\n            }\r\n        }\r\n        submit() {\r\n            // Start of validation\r\n            // Validate email\r\n            if (this.validateEmail(this.emailInput) == false) {\r\n                this.presentToast(\"Please enter a valid email!\", \"danger\");\r\n                return;\r\n            }\r\n            // Validate password\r\n            if (this.state != \"forgotPassword\" && this.passwordInput.length < 8) {\r\n                this.presentToast(\"Password must be at least 8 characters\", \"danger\");\r\n                return;\r\n            }\r\n            if (this.state == \"signup\" && this.nicknameInput == \"\") {\r\n                this.presentToast(\"Please enter a nickname\", \"danger\");\r\n                return;\r\n            }\r\n            // End of validation\r\n            if (this.state == \"login\") {\r\n                console.log('do login stuff');\r\n                this.userAuthService.login(this.emailInput, this.passwordInput).then(() => {\r\n                    this.modal.dismiss();\r\n                });\r\n            }\r\n            else if (this.state == \"signup\") {\r\n                console.log('do signup stuff');\r\n                this.presentToast(\"Thank you for signing up!\", \"success\");\r\n                this.userAuthService.createUser(this.emailInput, this.passwordInput, this.nicknameInput).then(userData => {\r\n                    this.modal.dismiss();\r\n                }).catch(errorMessage => {\r\n                    // Catch means there was an error(Reject)\r\n                    this.presentToast(errorMessage, \"danger\");\r\n                });\r\n            }\r\n            else if (this.state == \"forgotPassword\") {\r\n                this.userAuthService.sendForgotPasswordEmail(this.emailInput).then(() => {\r\n                    this.presentToast(\"Reset password email has been sent!\", \"success\");\r\n                });\r\n                console.log('do forgot password stuff');\r\n                this.modal.dismiss();\r\n            }\r\n        }\r\n        validateEmail(email) {\r\n            // Verify email\r\n            const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n            return re.test(String(email).toLowerCase());\r\n        }\r\n        presentToast(myMessage, myColor) {\r\n            return Object(tslib_es6[\"b\" /* __awaiter */])(this, void 0, void 0, function* () {\r\n                const toast = yield this.toastController.create({\r\n                    message: myMessage,\r\n                    duration: 5000,\r\n                    color: myColor\r\n                });\r\n                toast.present();\r\n            });\r\n        }\r\n    }\r\n    ModalLoginComponent.ɵfac = function ModalLoginComponent_Factory(t) { return new (t || ModalLoginComponent)(core[\"Mb\" /* ɵɵdirectiveInject */](ionic_angular[\"m\" /* ToastController */]), core[\"Mb\" /* ɵɵdirectiveInject */](user_auth_service[\"a\" /* UserAuthService */])); };\r\n    ModalLoginComponent.ɵcmp = core[\"Gb\" /* ɵɵdefineComponent */]({ type: ModalLoginComponent, selectors: [[\"app-modal-login\"]], decls: 12, vars: 7, consts: [[1, \"container\"], [1, \"login-template\"], [1, \"header-text\"], [\"placeholder\", \"Email\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"placeholder\", \"Password\", 3, \"ngModel\", \"ngModelChange\", 4, \"ngIf\"], [\"placeholder\", \"Nickname\", 3, \"ngModel\", \"ngModelChange\", 4, \"ngIf\"], [\"class\", \"change-template-link\", \"href\", \"javascript:;\", 3, \"click\", 4, \"ngIf\"], [\"color\", \"primary\", 1, \"submit-button\", 3, \"click\"], [\"type\", \"password\", \"placeholder\", \"Password\", 3, \"ngModel\", \"ngModelChange\"], [\"placeholder\", \"Nickname\", 3, \"ngModel\", \"ngModelChange\"], [\"href\", \"javascript:;\", 1, \"change-template-link\", 3, \"click\"]], template: function ModalLoginComponent_Template(rf, ctx) {\r\n            if (rf & 1) {\r\n                core[\"Pb\" /* ɵɵelementStart */](0, \"div\", 0);\r\n                core[\"Pb\" /* ɵɵelementStart */](1, \"div\", 1);\r\n                core[\"Pb\" /* ɵɵelementStart */](2, \"p\", 2);\r\n                core[\"mc\" /* ɵɵtext */](3);\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Pb\" /* ɵɵelementStart */](4, \"input\", 3);\r\n                core[\"Xb\" /* ɵɵlistener */](\"ngModelChange\", function ModalLoginComponent_Template_input_ngModelChange_4_listener($event) { return ctx.emailInput = $event; });\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"lc\" /* ɵɵtemplate */](5, ModalLoginComponent_input_5_Template, 1, 1, \"input\", 4);\r\n                core[\"lc\" /* ɵɵtemplate */](6, ModalLoginComponent_input_6_Template, 1, 1, \"input\", 5);\r\n                core[\"lc\" /* ɵɵtemplate */](7, ModalLoginComponent_a_7_Template, 2, 0, \"a\", 6);\r\n                core[\"lc\" /* ɵɵtemplate */](8, ModalLoginComponent_a_8_Template, 2, 0, \"a\", 6);\r\n                core[\"lc\" /* ɵɵtemplate */](9, ModalLoginComponent_a_9_Template, 2, 0, \"a\", 6);\r\n                core[\"Pb\" /* ɵɵelementStart */](10, \"ion-button\", 7);\r\n                core[\"Xb\" /* ɵɵlistener */](\"click\", function ModalLoginComponent_Template_ion_button_click_10_listener() { return ctx.submit(); });\r\n                core[\"mc\" /* ɵɵtext */](11, \"Submit\");\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n            }\r\n            if (rf & 2) {\r\n                core[\"Cb\" /* ɵɵadvance */](3);\r\n                core[\"nc\" /* ɵɵtextInterpolate */](ctx.headerText);\r\n                core[\"Cb\" /* ɵɵadvance */](1);\r\n                core[\"ec\" /* ɵɵproperty */](\"ngModel\", ctx.emailInput);\r\n                core[\"Cb\" /* ɵɵadvance */](1);\r\n                core[\"ec\" /* ɵɵproperty */](\"ngIf\", ctx.state != \"forgotPassword\");\r\n                core[\"Cb\" /* ɵɵadvance */](1);\r\n                core[\"ec\" /* ɵɵproperty */](\"ngIf\", ctx.state == \"signup\");\r\n                core[\"Cb\" /* ɵɵadvance */](1);\r\n                core[\"ec\" /* ɵɵproperty */](\"ngIf\", ctx.state != \"login\");\r\n                core[\"Cb\" /* ɵɵadvance */](1);\r\n                core[\"ec\" /* ɵɵproperty */](\"ngIf\", ctx.state != \"signup\");\r\n                core[\"Cb\" /* ɵɵadvance */](1);\r\n                core[\"ec\" /* ɵɵproperty */](\"ngIf\", ctx.state == \"login\");\r\n            }\r\n        }, directives: [fesm2015_forms[\"a\" /* DefaultValueAccessor */], fesm2015_forms[\"e\" /* NgControlStatus */], fesm2015_forms[\"f\" /* NgModel */], common[\"i\" /* NgIf */]], styles: [\".container[_ngcontent-%COMP%]{margin:3%;height:100%}.login-template[_ngcontent-%COMP%]{display:flex;flex-direction:column}input[_ngcontent-%COMP%]{border:1px solid #d3d3d3;border-radius:5px;margin-bottom:3%}.header[_ngcontent-%COMP%]{font-size:23px}.change-template-link[_ngcontent-%COMP%]{margin-bottom:3%}.submit-btn[_ngcontent-%COMP%]{margin-top:2%}\"] });\r\n    return ModalLoginComponent;\r\n})();\r\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 6 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// CONCATENATED MODULE: ./src/app/components/navbar/navbar.component.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction NavbarComponent_ion_button_5_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        const _r4 = core[\"Qb\" /* ɵɵgetCurrentView */]();\r\n        core[\"Pb\" /* ɵɵelementStart */](0, \"ion-button\", 8);\r\n        core[\"Xb\" /* ɵɵlistener */](\"click\", function NavbarComponent_ion_button_5_Template_ion_button_click_0_listener() { core[\"hc\" /* ɵɵrestoreView */](_r4); const ctx_r3 = core[\"Zb\" /* ɵɵnextContext */](); return ctx_r3.sendToSearch(); });\r\n        core[\"mc\" /* ɵɵtext */](1, \"Stocks Search\");\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n    }\r\n}\r\nfunction NavbarComponent_ion_button_6_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        const _r6 = core[\"Qb\" /* ɵɵgetCurrentView */]();\r\n        core[\"Pb\" /* ɵɵelementStart */](0, \"ion-button\", 9);\r\n        core[\"Xb\" /* ɵɵlistener */](\"click\", function NavbarComponent_ion_button_6_Template_ion_button_click_0_listener() { core[\"hc\" /* ɵɵrestoreView */](_r6); const ctx_r5 = core[\"Zb\" /* ɵɵnextContext */](); return ctx_r5.sendToWatchlist(); });\r\n        core[\"mc\" /* ɵɵtext */](1, \"Watchlist\");\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n    }\r\n}\r\nfunction NavbarComponent_ion_button_7_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        const _r8 = core[\"Qb\" /* ɵɵgetCurrentView */]();\r\n        core[\"Pb\" /* ɵɵelementStart */](0, \"ion-button\", 10);\r\n        core[\"Xb\" /* ɵɵlistener */](\"click\", function NavbarComponent_ion_button_7_Template_ion_button_click_0_listener() { core[\"hc\" /* ɵɵrestoreView */](_r8); const ctx_r7 = core[\"Zb\" /* ɵɵnextContext */](); return ctx_r7.sendToPortfolio(); });\r\n        core[\"mc\" /* ɵɵtext */](1, \"Portfolio\");\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n    }\r\n}\r\nlet navbar_component_NavbarComponent = /*@__PURE__*/ (() => {\r\n    class NavbarComponent {\r\n        constructor(router, modalController, userAuthService) {\r\n            this.router = router;\r\n            this.modalController = modalController;\r\n            this.userAuthService = userAuthService;\r\n            this.isLoggedIn = false;\r\n        }\r\n        sendToPortfolio() {\r\n            this.router.navigate(['/portfolio']);\r\n        }\r\n        sendToWatchlist() {\r\n            this.router.navigate(['/watch-list']);\r\n        }\r\n        sendToSearch() {\r\n            this.router.navigate(['/search']);\r\n        }\r\n        sendToHome() {\r\n            this.router.navigate(['/']);\r\n        }\r\n        ngOnInit() {\r\n            this.userAuthService.userObservable.subscribe((userData) => {\r\n                this.user = userData;\r\n                if (this.user == null) {\r\n                    this.isLoggedIn = false;\r\n                }\r\n                else {\r\n                    this.isLoggedIn = true;\r\n                }\r\n            });\r\n        }\r\n        getLoginButtonText() {\r\n            if (this.isLoggedIn == false) {\r\n                // If user is NOT signed in\r\n                return \"Login\";\r\n            }\r\n            else {\r\n                // If user is signed in\r\n                return \"Logout\";\r\n            }\r\n        }\r\n        submit() {\r\n            if (this.user == null) {\r\n                // If not logged in\r\n                this.presentModal();\r\n            }\r\n            // If logged in\r\n            else {\r\n                this.userAuthService.logout();\r\n            }\r\n        }\r\n        presentModal() {\r\n            return Object(tslib_es6[\"b\" /* __awaiter */])(this, void 0, void 0, function* () {\r\n                const modal = yield this.modalController.create({\r\n                    component: modal_login_component_ModalLoginComponent,\r\n                    cssClass: 'login-modal'\r\n                });\r\n                modal.componentProps = {\r\n                    modal: modal\r\n                };\r\n                return yield modal.present();\r\n            });\r\n        }\r\n        checkLoginAction() {\r\n            return Object(tslib_es6[\"b\" /* __awaiter */])(this, void 0, void 0, function* () {\r\n                if (this.user == null) {\r\n                    this.presentModal();\r\n                }\r\n                else {\r\n                    this.userAuthService.logout();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    NavbarComponent.ɵfac = function NavbarComponent_Factory(t) { return new (t || NavbarComponent)(core[\"Mb\" /* ɵɵdirectiveInject */](router[\"g\" /* Router */]), core[\"Mb\" /* ɵɵdirectiveInject */](ionic_angular[\"k\" /* ModalController */]), core[\"Mb\" /* ɵɵdirectiveInject */](user_auth_service[\"a\" /* UserAuthService */])); };\r\n    NavbarComponent.ɵcmp = core[\"Gb\" /* ɵɵdefineComponent */]({ type: NavbarComponent, selectors: [[\"navbar\"]], decls: 10, vars: 4, consts: [[1, \"toolbar\"], [1, \"header-content-container\"], [\"src\", \"assets/logo.png\", \"alt\", \"your image\", 1, \"logo\", 3, \"click\"], [1, \"buttons-container\"], [\"class\", \"stocks-btn\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"watchlist-btn\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"portfolio-btn\", 3, \"click\", 4, \"ngIf\"], [1, \"login-btn\", 3, \"click\"], [1, \"stocks-btn\", 3, \"click\"], [1, \"watchlist-btn\", 3, \"click\"], [1, \"portfolio-btn\", 3, \"click\"]], template: function NavbarComponent_Template(rf, ctx) {\r\n            if (rf & 1) {\r\n                core[\"Pb\" /* ɵɵelementStart */](0, \"ion-header\");\r\n                core[\"Pb\" /* ɵɵelementStart */](1, \"ion-toolbar\", 0);\r\n                core[\"Pb\" /* ɵɵelementStart */](2, \"div\", 1);\r\n                core[\"Pb\" /* ɵɵelementStart */](3, \"img\", 2);\r\n                core[\"Xb\" /* ɵɵlistener */](\"click\", function NavbarComponent_Template_img_click_3_listener() { return ctx.sendToHome(); });\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Pb\" /* ɵɵelementStart */](4, \"div\", 3);\r\n                core[\"lc\" /* ɵɵtemplate */](5, NavbarComponent_ion_button_5_Template, 2, 0, \"ion-button\", 4);\r\n                core[\"lc\" /* ɵɵtemplate */](6, NavbarComponent_ion_button_6_Template, 2, 0, \"ion-button\", 5);\r\n                core[\"lc\" /* ɵɵtemplate */](7, NavbarComponent_ion_button_7_Template, 2, 0, \"ion-button\", 6);\r\n                core[\"Pb\" /* ɵɵelementStart */](8, \"ion-button\", 7);\r\n                core[\"Xb\" /* ɵɵlistener */](\"click\", function NavbarComponent_Template_ion_button_click_8_listener() { return ctx.submit(); });\r\n                core[\"mc\" /* ɵɵtext */](9);\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n            }\r\n            if (rf & 2) {\r\n                core[\"Cb\" /* ɵɵadvance */](5);\r\n                core[\"ec\" /* ɵɵproperty */](\"ngIf\", ctx.router.url != \"/search\" && ctx.isLoggedIn == true);\r\n                core[\"Cb\" /* ɵɵadvance */](1);\r\n                core[\"ec\" /* ɵɵproperty */](\"ngIf\", ctx.router.url != \"/watch-list\" && ctx.isLoggedIn == true);\r\n                core[\"Cb\" /* ɵɵadvance */](1);\r\n                core[\"ec\" /* ɵɵproperty */](\"ngIf\", ctx.router.url != \"/portfolio\" && ctx.isLoggedIn == true);\r\n                core[\"Cb\" /* ɵɵadvance */](2);\r\n                core[\"nc\" /* ɵɵtextInterpolate */](ctx.getLoginButtonText());\r\n            }\r\n        }, directives: [common[\"i\" /* NgIf */]], styles: [\".header-content-container[_ngcontent-%COMP%]{display:flex}.toolbar[_ngcontent-%COMP%]{--background:#6bb37a;color:#9cdcf0}.login-btn[_ngcontent-%COMP%]{margin-right:20px;margin-left:20px}.stocks-btn[_ngcontent-%COMP%]{--background:#6bb37a}.portfolio-btn[_ngcontent-%COMP%], .watchlist-btn[_ngcontent-%COMP%]{--background:#6bb37a;margin-left:10px}.logo[_ngcontent-%COMP%]{width:200px}.buttons-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:100%;align-items:center}\"] });\r\n    return NavbarComponent;\r\n})();\r\n\n\n/***/ }),\n\n/***/ \"poxI\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ModalBuyComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"mrSG\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"fXoL\");\n/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"tk/3\");\n/* harmony import */ var src_app_services_user_auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"hZP9\");\n/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"TEn/\");\n/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"3Pt+\");\n\r\n\r\n\r\n\r\n\r\n\r\nlet ModalBuyComponent = /*@__PURE__*/ (() => {\r\n    class ModalBuyComponent {\r\n        constructor(http, userAuth, toastController) {\r\n            this.http = http;\r\n            this.userAuth = userAuth;\r\n            this.toastController = toastController;\r\n        }\r\n        ngOnInit() {\r\n            this.date1 = new Date().toISOString().slice(0, 10);\r\n            this.userAuth.userObservable.subscribe((userData) => {\r\n                // this.email = userData.email;\r\n                this.user = userData;\r\n                // console.log(this.user.data);\r\n            });\r\n            let url = \"http://127.0.0.1:5000/getBalance?userID=\" + this.user.email;\r\n            this.http.get(url).subscribe(result => {\r\n                // console.log(\"brought message back from server.\",result['data'][0]);\r\n                this.cashBalance = this.currencyFormat(result['data'][0]['currentBalance']);\r\n                const num = (result['data'][0]['currentBalance'] - result['data'][1]['holdingBalance']);\r\n                this.buyingPower = this.currencyFormat(num);\r\n            });\r\n        }\r\n        currencyFormat(num) {\r\n            return '$' + num.toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,');\r\n        }\r\n        submit() {\r\n            // Find the day difference between limit and todays date\r\n            var diff = Math.abs(this.parseDate(this.date).getTime() - new Date().getTime());\r\n            var limit = Math.ceil(diff / (1000 * 3600 * 24));\r\n            let url = \"http://127.0.0.1:5000/createOrder?orderType=buy&userID=\" + this.user.email + \"&symbol=\" + this.value + \"&price=\" + this.price + \"&amount=\" + this.amount + \"&limit=\" + limit;\r\n            this.http.get(url).subscribe(result => {\r\n                console.log(\"brought message back from server.\", result['data']);\r\n                this.modal.dismiss();\r\n                if (result['data'] == \"insufficientFunds\") {\r\n                    this.presentToast(\"insufficient Funds.\", \"danger\");\r\n                }\r\n                else {\r\n                    this.presentToast(\"Created a buy order for \" + this.value + \" at $\" + this.price + \" for \" + this.amount + \" shares expiring in \" + limit + \" days.\", \"success\");\r\n                }\r\n            });\r\n        }\r\n        parseDate(input) {\r\n            var parts = input.match(/(\\d+)/g);\r\n            // new Date(year, month [, date [, hours[, minutes[, seconds[, ms]]]]])\r\n            return new Date(parts[0], parts[1] - 1, parts[2]); // months are 0-based\r\n        }\r\n        presentToast(myMessage, myColor) {\r\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"b\"])(this, void 0, void 0, function* () {\r\n                const toast = yield this.toastController.create({\r\n                    message: myMessage,\r\n                    duration: 5000,\r\n                    color: myColor\r\n                });\r\n                toast.present();\r\n            });\r\n        }\r\n    }\r\n    ModalBuyComponent.ɵfac = function ModalBuyComponent_Factory(t) { return new (t || ModalBuyComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵdirectiveInject */ \"Mb\"](_angular_common_http__WEBPACK_IMPORTED_MODULE_2__[/* HttpClient */ \"a\"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵdirectiveInject */ \"Mb\"](src_app_services_user_auth_service__WEBPACK_IMPORTED_MODULE_3__[/* UserAuthService */ \"a\"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵdirectiveInject */ \"Mb\"](_ionic_angular__WEBPACK_IMPORTED_MODULE_4__[/* ToastController */ \"m\"])); };\r\n    ModalBuyComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵdefineComponent */ \"Gb\"]({ type: ModalBuyComponent, selectors: [[\"app-modal-buy\"]], inputs: { value: \"value\" }, decls: 32, vars: 7, consts: [[1, \"container\"], [1, \"balance\"], [1, \"cash-balance\"], [1, \"buying-power\"], [1, \"buy-template\"], [1, \"header-text\", 2, \"display\", \"flex\", \"flex-direction\", \"column\", \"text-align\", \"center\"], [\"type\", \"text\", \"readonly\", \"\", 3, \"value\"], [\"name\", \"num\", \"type\", \"number\", \"placeholder\", \"Amount\", \"min\", \"1\", \"step\", \"1\", \"onkeypress\", \"return event.charCode >= 48 && event.charCode <= 57\", 3, \"ngModel\", \"ngModelChange\"], [\"placeholder\", \"Price\", \"min\", \"1\", \"onkeypress\", \"return event.charCode >= 46 && event.charCode <= 57\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"date\", \"id\", \"birthday\", \"name\", \"birthday\", 3, \"ngModel\", \"min\", \"ngModelChange\"], [\"color\", \"primary\", 1, \"submit-button\", 3, \"click\"]], template: function ModalBuyComponent_Template(rf, ctx) {\r\n            if (rf & 1) {\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementStart */ \"Pb\"](0, \"div\", 0);\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementStart */ \"Pb\"](1, \"h1\");\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵtext */ \"mc\"](2, \"Balance\");\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementEnd */ \"Ob\"]();\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementStart */ \"Pb\"](3, \"div\", 1);\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementStart */ \"Pb\"](4, \"div\", 2);\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementStart */ \"Pb\"](5, \"h3\");\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵtext */ \"mc\"](6, \"Cash balance:\");\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementEnd */ \"Ob\"]();\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementStart */ \"Pb\"](7, \"p\");\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵtext */ \"mc\"](8);\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementEnd */ \"Ob\"]();\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementEnd */ \"Ob\"]();\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementStart */ \"Pb\"](9, \"div\", 3);\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementStart */ \"Pb\"](10, \"h3\");\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵtext */ \"mc\"](11, \"Buying power:\");\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementEnd */ \"Ob\"]();\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementStart */ \"Pb\"](12, \"p\");\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵtext */ \"mc\"](13);\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementEnd */ \"Ob\"]();\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementEnd */ \"Ob\"]();\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementEnd */ \"Ob\"]();\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelement */ \"Nb\"](14, \"hr\");\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementStart */ \"Pb\"](15, \"div\", 4);\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementStart */ \"Pb\"](16, \"h1\", 5);\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵtext */ \"mc\"](17, \"BUY\");\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementEnd */ \"Ob\"]();\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementStart */ \"Pb\"](18, \"label\");\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵtext */ \"mc\"](19, \"Symbol: \");\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementEnd */ \"Ob\"]();\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelement */ \"Nb\"](20, \"input\", 6);\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementStart */ \"Pb\"](21, \"label\");\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵtext */ \"mc\"](22, \"Amount: \");\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementEnd */ \"Ob\"]();\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementStart */ \"Pb\"](23, \"input\", 7);\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵlistener */ \"Xb\"](\"ngModelChange\", function ModalBuyComponent_Template_input_ngModelChange_23_listener($event) { return ctx.amount = $event; });\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementEnd */ \"Ob\"]();\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementStart */ \"Pb\"](24, \"label\");\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵtext */ \"mc\"](25, \"Price: \");\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementEnd */ \"Ob\"]();\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementStart */ \"Pb\"](26, \"input\", 8);\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵlistener */ \"Xb\"](\"ngModelChange\", function ModalBuyComponent_Template_input_ngModelChange_26_listener($event) { return ctx.price = $event; });\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementEnd */ \"Ob\"]();\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementStart */ \"Pb\"](27, \"label\");\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵtext */ \"mc\"](28, \"Limit: \");\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementEnd */ \"Ob\"]();\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementStart */ \"Pb\"](29, \"input\", 9);\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵlistener */ \"Xb\"](\"ngModelChange\", function ModalBuyComponent_Template_input_ngModelChange_29_listener($event) { return ctx.date = $event; });\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementEnd */ \"Ob\"]();\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementStart */ \"Pb\"](30, \"ion-button\", 10);\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵlistener */ \"Xb\"](\"click\", function ModalBuyComponent_Template_ion_button_click_30_listener() { return ctx.submit(); });\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵtext */ \"mc\"](31, \"Submit\");\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementEnd */ \"Ob\"]();\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementEnd */ \"Ob\"]();\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵelementEnd */ \"Ob\"]();\r\n            }\r\n            if (rf & 2) {\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵadvance */ \"Cb\"](8);\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵtextInterpolate */ \"nc\"](ctx.cashBalance);\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵadvance */ \"Cb\"](5);\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵtextInterpolate */ \"nc\"](ctx.buyingPower);\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵadvance */ \"Cb\"](7);\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵpropertyInterpolate */ \"fc\"](\"value\", ctx.value);\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵadvance */ \"Cb\"](3);\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵproperty */ \"ec\"](\"ngModel\", ctx.amount);\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵadvance */ \"Cb\"](3);\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵproperty */ \"ec\"](\"ngModel\", ctx.price);\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵadvance */ \"Cb\"](3);\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵpropertyInterpolate */ \"fc\"](\"min\", ctx.date1);\r\n                _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵproperty */ \"ec\"](\"ngModel\", ctx.date);\r\n            }\r\n        }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_5__[/* NumberValueAccessor */ \"g\"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__[/* DefaultValueAccessor */ \"a\"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__[/* NgControlStatus */ \"e\"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__[/* NgModel */ \"f\"]], styles: [\".container[_ngcontent-%COMP%]{margin:3%;height:100%}.buy-template[_ngcontent-%COMP%]{display:flex;flex-direction:column}input[_ngcontent-%COMP%]{border:1px solid #d3d3d3;border-radius:5px;margin-bottom:3%}.header[_ngcontent-%COMP%]{font-size:23px}.change-template-link[_ngcontent-%COMP%]{margin-bottom:3%}.submit-btn[_ngcontent-%COMP%]{margin-top:2%}hr[_ngcontent-%COMP%]{border:0;transform:rotate(0deg);clear:both;display:block;width:96%;background-color:#ff0;height:1px}.buying-power[_ngcontent-%COMP%]{margin-left:3%}.balance[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}\"] });\r\n    return ModalBuyComponent;\r\n})();\r\n\n\n/***/ })\n\n}]);","inputSourceMap":null}