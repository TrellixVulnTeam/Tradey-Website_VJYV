{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{smMY:function(t,e,s){\"use strict\";s.r(e),s.d(e,\"ion_reorder\",function(){return n}),s.d(e,\"ion_reorder_group\",function(){return l});var r=s(\"2atR\"),o=s(\"GTku\"),i=s(\"qULd\");const n=class{constructor(t){Object(r.o)(this,t)}onClick(t){const e=this.el.closest(\"ion-reorder-group\");t.preventDefault(),e&&e.disabled||t.stopImmediatePropagation()}render(){const t=Object(o.b)(this),e=\"ios\"===t?\"reorder-three-outline\":\"reorder-two-sharp\";return Object(r.j)(r.c,{class:t},Object(r.j)(\"slot\",null,Object(r.j)(\"ion-icon\",{name:e,lazy:!1,class:\"reorder-icon\",part:\"icon\"})))}get el(){return Object(r.k)(this)}};n.style={ios:\":host([slot]){display:none;line-height:0;z-index:100}.reorder-icon{display:block;font-size:22px}.reorder-icon{font-size:34px;opacity:0.4}\",md:\":host([slot]){display:none;line-height:0;z-index:100}.reorder-icon{display:block;font-size:22px}.reorder-icon{font-size:31px;opacity:0.3}\"};const l=class{constructor(t){Object(r.o)(this,t),this.ionItemReorder=Object(r.g)(this,\"ionItemReorder\",7),this.lastToIndex=-1,this.cachedHeights=[],this.scrollElTop=0,this.scrollElBottom=0,this.scrollElInitial=0,this.containerTop=0,this.containerBottom=0,this.state=0,this.disabled=!0}disabledChanged(){this.gesture&&this.gesture.enable(!this.disabled)}async connectedCallback(){const t=this.el.closest(\"ion-content\");t&&(this.scrollEl=await t.getScrollElement()),this.gesture=(await Promise.resolve().then(s.bind(null,\"iWo5\"))).createGesture({el:this.el,gestureName:\"reorder\",gesturePriority:110,threshold:0,direction:\"y\",passive:!1,canStart:t=>this.canStart(t),onStart:t=>this.onStart(t),onMove:t=>this.onMove(t),onEnd:()=>this.onEnd()}),this.disabledChanged()}disconnectedCallback(){this.onEnd(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}complete(t){return Promise.resolve(this.completeSync(t))}canStart(t){if(this.selectedItemEl||0!==this.state)return!1;const e=t.event.target.closest(\"ion-reorder\");if(!e)return!1;const s=a(e,this.el);return!!s&&(t.data=s,!0)}onStart(t){t.event.preventDefault();const e=this.selectedItemEl=t.data,s=this.cachedHeights;s.length=0;const r=this.el,o=r.children;if(!o||0===o.length)return;let n=0;for(let i=0;i<o.length;i++){const t=o[i];n+=t.offsetHeight,s.push(n),t.$ionIndex=i}const l=r.getBoundingClientRect();if(this.containerTop=l.top,this.containerBottom=l.bottom,this.scrollEl){const t=this.scrollEl.getBoundingClientRect();this.scrollElInitial=this.scrollEl.scrollTop,this.scrollElTop=t.top+h,this.scrollElBottom=t.bottom-h}else this.scrollElInitial=0,this.scrollElTop=0,this.scrollElBottom=0;this.lastToIndex=c(e),this.selectedItemHeight=e.offsetHeight,this.state=1,e.classList.add(m),Object(i.a)()}onMove(t){const e=this.selectedItemEl;if(!e)return;const s=this.autoscroll(t.currentY),r=this.containerTop-s,o=Math.max(r,Math.min(t.currentY,this.containerBottom-s)),n=s+o-t.startY,l=this.itemIndexForTop(o-r);if(l!==this.lastToIndex){const t=c(e);this.lastToIndex=l,Object(i.b)(),this.reorderMove(t,l)}e.style.transform=`translateY(${n}px)`}onEnd(){const t=this.selectedItemEl;if(this.state=2,!t)return void(this.state=0);const e=this.lastToIndex,s=c(t);e===s?this.completeSync():this.ionItemReorder.emit({from:s,to:e,complete:this.completeSync.bind(this)}),Object(i.e)()}completeSync(t){const e=this.selectedItemEl;if(e&&2===this.state){const s=this.el.children,r=s.length,o=this.lastToIndex,i=c(e);o===i||void 0!==t&&!0!==t||this.el.insertBefore(e,i<o?s[o+1]:s[o]),Array.isArray(t)&&(t=b(t,i,o));for(let t=0;t<r;t++)s[t].style.transform=\"\";e.style.transition=\"\",e.classList.remove(m),this.selectedItemEl=void 0,this.state=0}return t}itemIndexForTop(t){const e=this.cachedHeights;let s=0;for(s=0;s<e.length&&!(e[s]>t);s++);return s}reorderMove(t,e){const s=this.selectedItemHeight,r=this.el.children;for(let o=0;o<r.length;o++){let i=\"\";o>t&&o<=e?i=`translateY(${-s}px)`:o<t&&o>=e&&(i=`translateY(${s}px)`),r[o].style.transform=i}}autoscroll(t){if(!this.scrollEl)return 0;let e=0;return t<this.scrollElTop?e=-d:t>this.scrollElBottom&&(e=d),0!==e&&this.scrollEl.scrollBy(0,e),this.scrollEl.scrollTop-this.scrollElInitial}render(){const t=Object(o.b)(this);return Object(r.j)(r.c,{class:{[t]:!0,\"reorder-enabled\":!this.disabled,\"reorder-list-active\":0!==this.state}})}get el(){return Object(r.k)(this)}static get watchers(){return{disabled:[\"disabledChanged\"]}}},c=t=>t.$ionIndex,a=(t,e)=>{let s;for(;t;){if(s=t.parentElement,s===e)return t;t=s}},h=60,d=10,m=\"reorder-selected\",b=(t,e,s)=>{const r=t[e];return t.splice(e,1),t.splice(s,0,r),t.slice()};l.style=\".reorder-list-active>*{-webkit-transition:-webkit-transform 300ms;transition:-webkit-transform 300ms;transition:transform 300ms;transition:transform 300ms, -webkit-transform 300ms;will-change:transform}.reorder-enabled{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.reorder-enabled ion-reorder{display:block;cursor:-webkit-grab;cursor:grab;pointer-events:all;-ms-touch-action:none;touch-action:none}.reorder-selected,.reorder-selected ion-reorder{cursor:-webkit-grabbing;cursor:grabbing}.reorder-selected{position:relative;-webkit-transition:none !important;transition:none !important;-webkit-box-shadow:0 0 10px rgba(0, 0, 0, 0.4);box-shadow:0 0 10px rgba(0, 0, 0, 0.4);opacity:0.8;z-index:100}.reorder-visible ion-reorder .reorder-icon{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}\"}}]);","name":"43.bbf5fa740d62ec948f3e.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[43],{\n\n/***/ \"smMY\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ion_reorder\", function() { return Reorder; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ion_reorder_group\", function() { return ReorderGroup; });\n/* harmony import */ var _index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"2atR\");\n/* harmony import */ var _ionic_global_ddef3a45_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"GTku\");\n/* harmony import */ var _haptic_27b3f981_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"qULd\");\n\r\n\r\n\r\n\r\nconst reorderIosCss = \":host([slot]){display:none;line-height:0;z-index:100}.reorder-icon{display:block;font-size:22px}.reorder-icon{font-size:34px;opacity:0.4}\";\r\n\r\nconst reorderMdCss = \":host([slot]){display:none;line-height:0;z-index:100}.reorder-icon{display:block;font-size:22px}.reorder-icon{font-size:31px;opacity:0.3}\";\r\n\r\nconst Reorder = class {\r\n  constructor(hostRef) {\r\n    Object(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* r */ \"o\"])(this, hostRef);\r\n  }\r\n  onClick(ev) {\r\n    const reorderGroup = this.el.closest('ion-reorder-group');\r\n    ev.preventDefault();\r\n    // Only stop event propagation if the reorder is inside of an enabled\r\n    // reorder group. This allows interaction with clickable children components.\r\n    if (!reorderGroup || !reorderGroup.disabled) {\r\n      ev.stopImmediatePropagation();\r\n    }\r\n  }\r\n  render() {\r\n    const mode = Object(_ionic_global_ddef3a45_js__WEBPACK_IMPORTED_MODULE_1__[\"b\"])(this);\r\n    const reorderIcon = mode === 'ios' ? 'reorder-three-outline' : 'reorder-two-sharp';\r\n    return (Object(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"j\"])(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* H */ \"c\"], { class: mode }, Object(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"j\"])(\"slot\", null, Object(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"j\"])(\"ion-icon\", { name: reorderIcon, lazy: false, class: \"reorder-icon\", part: \"icon\" }))));\r\n  }\r\n  get el() { return Object(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* i */ \"k\"])(this); }\r\n};\r\nReorder.style = {\r\n  ios: reorderIosCss,\r\n  md: reorderMdCss\r\n};\r\n\r\nconst reorderGroupCss = \".reorder-list-active>*{-webkit-transition:-webkit-transform 300ms;transition:-webkit-transform 300ms;transition:transform 300ms;transition:transform 300ms, -webkit-transform 300ms;will-change:transform}.reorder-enabled{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.reorder-enabled ion-reorder{display:block;cursor:-webkit-grab;cursor:grab;pointer-events:all;-ms-touch-action:none;touch-action:none}.reorder-selected,.reorder-selected ion-reorder{cursor:-webkit-grabbing;cursor:grabbing}.reorder-selected{position:relative;-webkit-transition:none !important;transition:none !important;-webkit-box-shadow:0 0 10px rgba(0, 0, 0, 0.4);box-shadow:0 0 10px rgba(0, 0, 0, 0.4);opacity:0.8;z-index:100}.reorder-visible ion-reorder .reorder-icon{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}\";\r\n\r\nconst ReorderGroup = class {\r\n  constructor(hostRef) {\r\n    Object(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* r */ \"o\"])(this, hostRef);\r\n    this.ionItemReorder = Object(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* e */ \"g\"])(this, \"ionItemReorder\", 7);\r\n    this.lastToIndex = -1;\r\n    this.cachedHeights = [];\r\n    this.scrollElTop = 0;\r\n    this.scrollElBottom = 0;\r\n    this.scrollElInitial = 0;\r\n    this.containerTop = 0;\r\n    this.containerBottom = 0;\r\n    this.state = 0 /* Idle */;\r\n    /**\r\n     * If `true`, the reorder will be hidden.\r\n     */\r\n    this.disabled = true;\r\n  }\r\n  disabledChanged() {\r\n    if (this.gesture) {\r\n      this.gesture.enable(!this.disabled);\r\n    }\r\n  }\r\n  async connectedCallback() {\r\n    const contentEl = this.el.closest('ion-content');\r\n    if (contentEl) {\r\n      this.scrollEl = await contentEl.getScrollElement();\r\n    }\r\n    this.gesture = (await Promise.resolve(/* import() */).then(__webpack_require__.bind(null, \"iWo5\"))).createGesture({\r\n      el: this.el,\r\n      gestureName: 'reorder',\r\n      gesturePriority: 110,\r\n      threshold: 0,\r\n      direction: 'y',\r\n      passive: false,\r\n      canStart: detail => this.canStart(detail),\r\n      onStart: ev => this.onStart(ev),\r\n      onMove: ev => this.onMove(ev),\r\n      onEnd: () => this.onEnd(),\r\n    });\r\n    this.disabledChanged();\r\n  }\r\n  disconnectedCallback() {\r\n    this.onEnd();\r\n    if (this.gesture) {\r\n      this.gesture.destroy();\r\n      this.gesture = undefined;\r\n    }\r\n  }\r\n  /**\r\n   * Completes the reorder operation. Must be called by the `ionItemReorder` event.\r\n   *\r\n   * If a list of items is passed, the list will be reordered and returned in the\r\n   * proper order.\r\n   *\r\n   * If no parameters are passed or if `true` is passed in, the reorder will complete\r\n   * and the item will remain in the position it was dragged to. If `false` is passed,\r\n   * the reorder will complete and the item will bounce back to its original position.\r\n   *\r\n   * @param listOrReorder A list of items to be sorted and returned in the new order or a\r\n   * boolean of whether or not the reorder should reposition the item.\r\n   */\r\n  complete(listOrReorder) {\r\n    return Promise.resolve(this.completeSync(listOrReorder));\r\n  }\r\n  canStart(ev) {\r\n    if (this.selectedItemEl || this.state !== 0 /* Idle */) {\r\n      return false;\r\n    }\r\n    const target = ev.event.target;\r\n    const reorderEl = target.closest('ion-reorder');\r\n    if (!reorderEl) {\r\n      return false;\r\n    }\r\n    const item = findReorderItem(reorderEl, this.el);\r\n    if (!item) {\r\n      return false;\r\n    }\r\n    ev.data = item;\r\n    return true;\r\n  }\r\n  onStart(ev) {\r\n    ev.event.preventDefault();\r\n    const item = this.selectedItemEl = ev.data;\r\n    const heights = this.cachedHeights;\r\n    heights.length = 0;\r\n    const el = this.el;\r\n    const children = el.children;\r\n    if (!children || children.length === 0) {\r\n      return;\r\n    }\r\n    let sum = 0;\r\n    for (let i = 0; i < children.length; i++) {\r\n      const child = children[i];\r\n      sum += child.offsetHeight;\r\n      heights.push(sum);\r\n      child.$ionIndex = i;\r\n    }\r\n    const box = el.getBoundingClientRect();\r\n    this.containerTop = box.top;\r\n    this.containerBottom = box.bottom;\r\n    if (this.scrollEl) {\r\n      const scrollBox = this.scrollEl.getBoundingClientRect();\r\n      this.scrollElInitial = this.scrollEl.scrollTop;\r\n      this.scrollElTop = scrollBox.top + AUTO_SCROLL_MARGIN;\r\n      this.scrollElBottom = scrollBox.bottom - AUTO_SCROLL_MARGIN;\r\n    }\r\n    else {\r\n      this.scrollElInitial = 0;\r\n      this.scrollElTop = 0;\r\n      this.scrollElBottom = 0;\r\n    }\r\n    this.lastToIndex = indexForItem(item);\r\n    this.selectedItemHeight = item.offsetHeight;\r\n    this.state = 1 /* Active */;\r\n    item.classList.add(ITEM_REORDER_SELECTED);\r\n    Object(_haptic_27b3f981_js__WEBPACK_IMPORTED_MODULE_2__[\"a\"])();\r\n  }\r\n  onMove(ev) {\r\n    const selectedItem = this.selectedItemEl;\r\n    if (!selectedItem) {\r\n      return;\r\n    }\r\n    // Scroll if we reach the scroll margins\r\n    const scroll = this.autoscroll(ev.currentY);\r\n    // // Get coordinate\r\n    const top = this.containerTop - scroll;\r\n    const bottom = this.containerBottom - scroll;\r\n    const currentY = Math.max(top, Math.min(ev.currentY, bottom));\r\n    const deltaY = scroll + currentY - ev.startY;\r\n    const normalizedY = currentY - top;\r\n    const toIndex = this.itemIndexForTop(normalizedY);\r\n    if (toIndex !== this.lastToIndex) {\r\n      const fromIndex = indexForItem(selectedItem);\r\n      this.lastToIndex = toIndex;\r\n      Object(_haptic_27b3f981_js__WEBPACK_IMPORTED_MODULE_2__[\"b\"])();\r\n      this.reorderMove(fromIndex, toIndex);\r\n    }\r\n    // Update selected item position\r\n    selectedItem.style.transform = `translateY(${deltaY}px)`;\r\n  }\r\n  onEnd() {\r\n    const selectedItemEl = this.selectedItemEl;\r\n    this.state = 2 /* Complete */;\r\n    if (!selectedItemEl) {\r\n      this.state = 0 /* Idle */;\r\n      return;\r\n    }\r\n    const toIndex = this.lastToIndex;\r\n    const fromIndex = indexForItem(selectedItemEl);\r\n    if (toIndex === fromIndex) {\r\n      this.completeSync();\r\n    }\r\n    else {\r\n      this.ionItemReorder.emit({\r\n        from: fromIndex,\r\n        to: toIndex,\r\n        complete: this.completeSync.bind(this)\r\n      });\r\n    }\r\n    Object(_haptic_27b3f981_js__WEBPACK_IMPORTED_MODULE_2__[/* h */ \"e\"])();\r\n  }\r\n  completeSync(listOrReorder) {\r\n    const selectedItemEl = this.selectedItemEl;\r\n    if (selectedItemEl && this.state === 2 /* Complete */) {\r\n      const children = this.el.children;\r\n      const len = children.length;\r\n      const toIndex = this.lastToIndex;\r\n      const fromIndex = indexForItem(selectedItemEl);\r\n      if (toIndex !== fromIndex && (listOrReorder === undefined || listOrReorder === true)) {\r\n        const ref = (fromIndex < toIndex)\r\n          ? children[toIndex + 1]\r\n          : children[toIndex];\r\n        this.el.insertBefore(selectedItemEl, ref);\r\n      }\r\n      if (Array.isArray(listOrReorder)) {\r\n        listOrReorder = reorderArray(listOrReorder, fromIndex, toIndex);\r\n      }\r\n      for (let i = 0; i < len; i++) {\r\n        children[i].style['transform'] = '';\r\n      }\r\n      selectedItemEl.style.transition = '';\r\n      selectedItemEl.classList.remove(ITEM_REORDER_SELECTED);\r\n      this.selectedItemEl = undefined;\r\n      this.state = 0 /* Idle */;\r\n    }\r\n    return listOrReorder;\r\n  }\r\n  itemIndexForTop(deltaY) {\r\n    const heights = this.cachedHeights;\r\n    let i = 0;\r\n    // TODO: since heights is a sorted array of integers, we can do\r\n    // speed up the search using binary search. Remember that linear-search is still\r\n    // faster than binary-search for small arrays (<64) due CPU branch misprediction.\r\n    for (i = 0; i < heights.length; i++) {\r\n      if (heights[i] > deltaY) {\r\n        break;\r\n      }\r\n    }\r\n    return i;\r\n  }\r\n  /********* DOM WRITE ********* */\r\n  reorderMove(fromIndex, toIndex) {\r\n    const itemHeight = this.selectedItemHeight;\r\n    const children = this.el.children;\r\n    for (let i = 0; i < children.length; i++) {\r\n      const style = children[i].style;\r\n      let value = '';\r\n      if (i > fromIndex && i <= toIndex) {\r\n        value = `translateY(${-itemHeight}px)`;\r\n      }\r\n      else if (i < fromIndex && i >= toIndex) {\r\n        value = `translateY(${itemHeight}px)`;\r\n      }\r\n      style['transform'] = value;\r\n    }\r\n  }\r\n  autoscroll(posY) {\r\n    if (!this.scrollEl) {\r\n      return 0;\r\n    }\r\n    let amount = 0;\r\n    if (posY < this.scrollElTop) {\r\n      amount = -SCROLL_JUMP;\r\n    }\r\n    else if (posY > this.scrollElBottom) {\r\n      amount = SCROLL_JUMP;\r\n    }\r\n    if (amount !== 0) {\r\n      this.scrollEl.scrollBy(0, amount);\r\n    }\r\n    return this.scrollEl.scrollTop - this.scrollElInitial;\r\n  }\r\n  render() {\r\n    const mode = Object(_ionic_global_ddef3a45_js__WEBPACK_IMPORTED_MODULE_1__[\"b\"])(this);\r\n    return (Object(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"j\"])(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* H */ \"c\"], { class: {\r\n        [mode]: true,\r\n        'reorder-enabled': !this.disabled,\r\n        'reorder-list-active': this.state !== 0 /* Idle */,\r\n      } }));\r\n  }\r\n  get el() { return Object(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* i */ \"k\"])(this); }\r\n  static get watchers() { return {\r\n    \"disabled\": [\"disabledChanged\"]\r\n  }; }\r\n};\r\nconst indexForItem = (element) => {\r\n  return element['$ionIndex'];\r\n};\r\nconst findReorderItem = (node, container) => {\r\n  let parent;\r\n  while (node) {\r\n    parent = node.parentElement;\r\n    if (parent === container) {\r\n      return node;\r\n    }\r\n    node = parent;\r\n  }\r\n  return undefined;\r\n};\r\nconst AUTO_SCROLL_MARGIN = 60;\r\nconst SCROLL_JUMP = 10;\r\nconst ITEM_REORDER_SELECTED = 'reorder-selected';\r\nconst reorderArray = (array, from, to) => {\r\n  const element = array[from];\r\n  array.splice(from, 1);\r\n  array.splice(to, 0, element);\r\n  return array.slice();\r\n};\r\nReorderGroup.style = reorderGroupCss;\r\n\r\n\r\n\n\n/***/ })\n\n}]);","inputSourceMap":null}