{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{d2mR:function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return r});var o=n(\"3Pt+\"),s=n(\"ofXK\"),i=n(\"fXoL\");let r=(()=>{class t{}return t.\\u0275mod=i.Kb({type:t}),t.\\u0275inj=i.Jb({factory:function(e){return new(e||t)},providers:[],imports:[[o.b,o.h,s.b]]}),t})()},gHLX:function(t,e,n){\"use strict\";n.r(e),n.d(e,\"LeaderboardPageModule\",function(){return m});var o=n(\"ofXK\"),s=n(\"3Pt+\"),i=n(\"d2mR\"),r=n(\"TEn/\"),a=n(\"tk/3\"),c=n(\"tyNb\"),l=n(\"fXoL\"),b=n(\"hZP9\"),u=n(\"hrlM\");function h(t,e){if(1&t&&(l.Pb(0,\"tr\"),l.Pb(1,\"td\"),l.mc(2),l.Ob(),l.Pb(3,\"td\"),l.mc(4),l.Ob(),l.Pb(5,\"td\"),l.mc(6),l.Ob(),l.Ob()),2&t){const t=e.$implicit,n=e.index,o=l.Zb();l.Cb(2),l.nc(n+1),l.Cb(2),l.nc(t.nickname),l.Cb(2),l.nc(o.currencyFormat(t.money))}}function d(t,e){if(1&t&&(l.Pb(0,\"tr\"),l.Pb(1,\"td\"),l.mc(2),l.Ob(),l.Pb(3,\"td\"),l.mc(4),l.Ob(),l.Pb(5,\"td\"),l.mc(6),l.Ob(),l.Ob()),2&t){const t=l.Zb(2);l.Cb(2),l.nc(t.data1[0].level),l.Cb(2),l.nc(t.data1[0].nickname),l.Cb(2),l.nc(t.currencyFormat(t.data1[0].money))}}function g(t,e){if(1&t&&(l.Pb(0,\"div\"),l.Pb(1,\"h1\",4),l.mc(2,\"Your Rank:\"),l.Ob(),l.Pb(3,\"table\",1),l.Pb(4,\"thead\"),l.Pb(5,\"tr\"),l.Pb(6,\"th\"),l.mc(7,\"#\"),l.Ob(),l.Pb(8,\"th\"),l.mc(9,\"User\"),l.Ob(),l.Pb(10,\"th\"),l.mc(11,\"Balance\"),l.Ob(),l.Ob(),l.Ob(),l.Pb(12,\"tbody\"),l.lc(13,d,7,3,\"tr\",2),l.Ob(),l.Ob(),l.Ob()),2&t){const t=l.Zb();l.Cb(13),l.ec(\"ngForOf\",t.data1)}}const p=[{path:\"\",component:(()=>{class t{constructor(t,e,n){this.http=t,this.userAuth=e,this.url=\"\",this.topTen=!1,n.params.subscribe(t=>{this.getLeaderboard()})}ngOnInit(){}currencyFormat(t){return\"$\"+t.toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g,\"$1,\")}getLeaderboard(){this.userAuth.userObservable.subscribe(t=>{this.user=t,null!=this.user&&(this.url=\"http://192.53.121.88:5000/getLeaderboard?userID=xmjoz\",this.http.get(this.url).subscribe(t=>{this.data=t.topTen,this.data1=t.user,this.topTen=\"top10\"==this.data1,console.log(this.data1[0].level)}))})}}return t.\\u0275fac=function(e){return new(e||t)(l.Mb(a.a),l.Mb(b.a),l.Mb(c.a))},t.\\u0275cmp=l.Gb({type:t,selectors:[[\"app-leaderboard\"]],decls:15,vars:2,consts:[[\"id\",\"spacer\"],[\"id\",\"table\"],[4,\"ngFor\",\"ngForOf\"],[4,\"ngIf\"],[1,\"your-rank\"]],template:function(t,e){1&t&&(l.Pb(0,\"ion-content\"),l.Nb(1,\"navbar\"),l.Nb(2,\"div\",0),l.Pb(3,\"table\",1),l.Pb(4,\"thead\"),l.Pb(5,\"tr\"),l.Pb(6,\"th\"),l.mc(7,\"#\"),l.Ob(),l.Pb(8,\"th\"),l.mc(9,\"User\"),l.Ob(),l.Pb(10,\"th\"),l.mc(11,\"Balance\"),l.Ob(),l.Ob(),l.Ob(),l.Pb(12,\"tbody\"),l.lc(13,h,7,3,\"tr\",2),l.Ob(),l.Ob(),l.lc(14,g,14,1,\"div\",3),l.Ob()),2&t&&(l.Cb(13),l.ec(\"ngForOf\",e.data),l.Cb(1),l.ec(\"ngIf\",!e.topTen))},directives:[r.c,u.a,o.h,o.i],styles:[\"table[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:2px solid #000;border-collapse:collapse;color:#000;text-align:center}th[_ngcontent-%COMP%]{font-size:large}table[_ngcontent-%COMP%]{width:100%;background-color:#fff}#spacer[_ngcontent-%COMP%]{margin-top:4%}.your-rank[_ngcontent-%COMP%]{display:flex;justify-content:space-between}#table[_ngcontent-%COMP%]{width:60%;margin-left:20%}.your-rank[_ngcontent-%COMP%]{width:100%;text-align:center;font-weight:500;display:inline-block;color:grey;border-bottom:4px solid grey;margin:20px auto}\"]}),t})()}];let f=(()=>{class t{}return t.\\u0275mod=l.Kb({type:t}),t.\\u0275inj=l.Jb({factory:function(e){return new(e||t)},imports:[[c.i.forChild(p)],c.i]}),t})(),m=(()=>{class t{}return t.\\u0275mod=l.Kb({type:t}),t.\\u0275inj=l.Jb({factory:function(e){return new(e||t)},imports:[[o.b,s.b,r.f,i.a,f,a.b]]}),t})()},hZP9:function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return c});var o=n(\"2Vo4\"),s=n(\"fXoL\"),i=n(\"UbJi\"),r=n(\"I/3d\"),a=n(\"tk/3\");let c=(()=>{class t{constructor(t,e,n){this.auth=t,this.db=e,this.http=n,this.isLoggedIn=!1,this.user={auth:null,data:null},this.userObservable=new o.a(null),this.updateUserState()}updateUserState(){this.auth.onAuthStateChanged(t=>{null!=t?(console.log(\"logged in\"),this.user.auth=t,this.isLoggedIn=!0,this.getUserFromEmail(t.email).then(t=>{this.user.data=t,console.log(this.user),this.userObservable.next(this.user.data)})):(this.user.auth=null,this.user.data=null,this.isLoggedIn=!1,console.log(\"logged out\"),this.userObservable.next(null)),console.log(\"auth data has changed!\")})}getUserFromEmail(t){return new Promise((e,n)=>{this.db.collection(\"users\",e=>e.where(\"email\",\"==\",t)).get().forEach(t=>{t.forEach(t=>{e(t.data())})})})}createUser(t,e,n){return new Promise((o,s)=>{this.checkIfNicknameIsTaken(n).then(i=>{if(1==i)s(\"This nickname has already been taken!\");else{let i=\"http://127.0.0.1:5000/createUser?userID=\"+t+\"&nickname=\"+n;console.log(i),this.http.get(i).subscribe(t=>{console.log(\"brought message back from server.\",t)}),this.auth.createUserWithEmailAndPassword(t,e).then(e=>{let i={id:e.user.uid,email:t,nickname:n};this.db.collection(\"users\").doc(i.id).set(i).then(t=>{o(t)}).catch(t=>{s(t)})}).catch(t=>{s(t.message)})}})})}login(t,e){return new Promise((n,o)=>{this.auth.signInWithEmailAndPassword(t,e).then(()=>{n()}).catch(t=>{console.log(t)})})}sendForgotPasswordEmail(t){return new Promise((e,n)=>{this.auth.sendPasswordResetEmail(t).then(()=>{e(!0)})})}logout(){this.auth.signOut()}checkIfNicknameIsTaken(t){return new Promise((e,n)=>{this.db.collection(\"users\",e=>e.where(\"nickname\",\"==\",t)).get().forEach(t=>{e(0!=t.size)})})}}return t.\\u0275fac=function(e){return new(e||t)(s.Tb(i.a),s.Tb(r.a),s.Tb(a.a))},t.\\u0275prov=s.Ib({token:t,factory:t.\\u0275fac,providedIn:\"root\"}),t})()},hrlM:function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return k});var o=n(\"mrSG\"),s=n(\"fXoL\"),i=n(\"TEn/\"),r=n(\"hZP9\"),a=n(\"3Pt+\"),c=n(\"ofXK\");function l(t,e){if(1&t){const t=s.Qb();s.Pb(0,\"input\",8),s.Xb(\"ngModelChange\",function(e){return s.hc(t),s.Zb().passwordInput=e}),s.Ob()}if(2&t){const t=s.Zb();s.ec(\"ngModel\",t.passwordInput)}}function b(t,e){if(1&t){const t=s.Qb();s.Pb(0,\"input\",9),s.Xb(\"ngModelChange\",function(e){return s.hc(t),s.Zb().nicknameInput=e}),s.Ob()}if(2&t){const t=s.Zb();s.ec(\"ngModel\",t.nicknameInput)}}function u(t,e){if(1&t){const t=s.Qb();s.Pb(0,\"a\",10),s.Xb(\"click\",function(){return s.hc(t),s.Zb().changeState(\"login\")}),s.mc(1,\"Already have an account? Click here to login!\"),s.Ob()}}function h(t,e){if(1&t){const t=s.Qb();s.Pb(0,\"a\",10),s.Xb(\"click\",function(){return s.hc(t),s.Zb().changeState(\"signup\")}),s.mc(1,\"Don't have an account? Click here to sign up!\"),s.Ob()}}function d(t,e){if(1&t){const t=s.Qb();s.Pb(0,\"a\",10),s.Xb(\"click\",function(){return s.hc(t),s.Zb().changeState(\"forgotPassword\")}),s.mc(1,\"Forgot your password?\"),s.Ob()}}let g=(()=>{class t{constructor(t,e){this.toastController=t,this.userAuthService=e,this.state=\"\",this.headerText=\"Sign Up\",this.emailInput=\"\",this.passwordInput=\"\",this.nicknameInput=\"\"}ngOnInit(){this.changeState(\"login\")}closeModal(){this.modal.dismiss()}changeState(t){this.state=t,\"login\"==this.state?this.headerText=\"Login\":\"signup\"==this.state?this.headerText=\"Sign Up\":\"forgotPassword\"==this.state&&(this.headerText=\"Forgot Password\")}submit(){0!=this.validateEmail(this.emailInput)?\"forgotPassword\"!=this.state&&this.passwordInput.length<8?this.presentToast(\"Password must be at least 8 characters\",\"danger\"):\"signup\"!=this.state||\"\"!=this.nicknameInput?\"login\"==this.state?(console.log(\"do login stuff\"),this.userAuthService.login(this.emailInput,this.passwordInput).then(()=>{this.modal.dismiss()})):\"signup\"==this.state?(console.log(\"do signup stuff\"),this.userAuthService.createUser(this.emailInput,this.passwordInput,this.nicknameInput).then(t=>{this.modal.dismiss()}).catch(t=>{this.presentToast(t,\"danger\")}),this.presentToast(\"Thank you for signing up!\",\"success\")):\"forgotPassword\"==this.state&&(this.userAuthService.sendForgotPasswordEmail(this.emailInput).then(()=>{this.presentToast(\"Reset password email has been sent!\",\"success\")}),console.log(\"do forgot password stuff\"),this.modal.dismiss()):this.presentToast(\"Please enter a nickname\",\"danger\"):this.presentToast(\"Please enter a valid email!\",\"danger\")}validateEmail(t){return/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())}presentToast(t,e){return Object(o.b)(this,void 0,void 0,function*(){(yield this.toastController.create({message:t,duration:5e3,color:e})).present()})}}return t.\\u0275fac=function(e){return new(e||t)(s.Mb(i.j),s.Mb(r.a))},t.\\u0275cmp=s.Gb({type:t,selectors:[[\"app-modal-login\"]],decls:12,vars:7,consts:[[1,\"container\"],[1,\"login-template\"],[1,\"header-text\"],[\"placeholder\",\"Email\",3,\"ngModel\",\"ngModelChange\"],[\"type\",\"password\",\"placeholder\",\"Password\",3,\"ngModel\",\"ngModelChange\",4,\"ngIf\"],[\"placeholder\",\"Nickname\",3,\"ngModel\",\"ngModelChange\",4,\"ngIf\"],[\"class\",\"change-template-link\",\"href\",\"javascript:;\",3,\"click\",4,\"ngIf\"],[\"color\",\"primary\",1,\"submit-button\",3,\"click\"],[\"type\",\"password\",\"placeholder\",\"Password\",3,\"ngModel\",\"ngModelChange\"],[\"placeholder\",\"Nickname\",3,\"ngModel\",\"ngModelChange\"],[\"href\",\"javascript:;\",1,\"change-template-link\",3,\"click\"]],template:function(t,e){1&t&&(s.Pb(0,\"div\",0),s.Pb(1,\"div\",1),s.Pb(2,\"p\",2),s.mc(3),s.Ob(),s.Pb(4,\"input\",3),s.Xb(\"ngModelChange\",function(t){return e.emailInput=t}),s.Ob(),s.lc(5,l,1,1,\"input\",4),s.lc(6,b,1,1,\"input\",5),s.lc(7,u,2,0,\"a\",6),s.lc(8,h,2,0,\"a\",6),s.lc(9,d,2,0,\"a\",6),s.Pb(10,\"ion-button\",7),s.Xb(\"click\",function(){return e.submit()}),s.mc(11,\"Submit\"),s.Ob(),s.Ob(),s.Ob()),2&t&&(s.Cb(3),s.nc(e.headerText),s.Cb(1),s.ec(\"ngModel\",e.emailInput),s.Cb(1),s.ec(\"ngIf\",\"forgotPassword\"!=e.state),s.Cb(1),s.ec(\"ngIf\",\"signup\"==e.state),s.Cb(1),s.ec(\"ngIf\",\"login\"!=e.state),s.Cb(1),s.ec(\"ngIf\",\"signup\"!=e.state),s.Cb(1),s.ec(\"ngIf\",\"login\"==e.state))},directives:[a.a,a.e,a.f,c.i],styles:[\".container[_ngcontent-%COMP%]{margin:3%;height:100%}.login-template[_ngcontent-%COMP%]{display:flex;flex-direction:column}input[_ngcontent-%COMP%]{border:1px solid #d3d3d3;border-radius:5px;margin-bottom:3%}.header[_ngcontent-%COMP%]{font-size:23px}.change-template-link[_ngcontent-%COMP%]{margin-bottom:3%}.submit-btn[_ngcontent-%COMP%]{margin-top:2%}\"]}),t})();var p=n(\"tyNb\");function f(t,e){if(1&t){const t=s.Qb();s.Pb(0,\"ion-button\",9),s.Xb(\"click\",function(){return s.hc(t),s.Zb().sendToSearch()}),s.mc(1,\"Stocks Search\"),s.Ob()}}function m(t,e){if(1&t){const t=s.Qb();s.Pb(0,\"ion-button\",10),s.Xb(\"click\",function(){return s.hc(t),s.Zb().sendToWatchlist()}),s.mc(1,\"Watchlist\"),s.Ob()}}function P(t,e){if(1&t){const t=s.Qb();s.Pb(0,\"ion-button\",11),s.Xb(\"click\",function(){return s.hc(t),s.Zb().sendToPortfolio()}),s.mc(1,\"Portfolio\"),s.Ob()}}function O(t,e){if(1&t){const t=s.Qb();s.Pb(0,\"ion-button\",12),s.Xb(\"click\",function(){return s.hc(t),s.Zb().sendToLeaderboard()}),s.mc(1,\"Leaderboard\"),s.Ob()}}let k=(()=>{class t{constructor(t,e,n){this.router=t,this.modalController=e,this.userAuthService=n,this.isLoggedIn=!1}sendToPortfolio(){this.router.navigate([\"/portfolio\"])}sendToLeaderboard(){this.router.navigate([\"/leaderboard\"])}sendToWatchlist(){this.router.navigate([\"/watch-list\"])}sendToSearch(){this.router.navigate([\"/search\"])}sendToHome(){this.router.navigate([\"/\"])}ngOnInit(){this.userAuthService.userObservable.subscribe(t=>{this.user=t,this.isLoggedIn=null!=this.user})}getLoginButtonText(){return 0==this.isLoggedIn?\"Login\":\"Logout\"}submit(){null==this.user?this.presentModal():this.userAuthService.logout()}presentModal(){return Object(o.b)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:g,cssClass:\"login-modal\"});return t.componentProps={modal:t},yield t.present()})}checkLoginAction(){return Object(o.b)(this,void 0,void 0,function*(){null==this.user?this.presentModal():this.userAuthService.logout()})}}return t.\\u0275fac=function(e){return new(e||t)(s.Mb(p.g),s.Mb(i.h),s.Mb(r.a))},t.\\u0275cmp=s.Gb({type:t,selectors:[[\"navbar\"]],decls:11,vars:5,consts:[[1,\"toolbar\"],[1,\"header-content-container\"],[\"src\",\"assets/logo.png\",\"alt\",\"your image\",1,\"logo\",3,\"click\"],[1,\"buttons-container\"],[\"class\",\"stocks-btn\",3,\"click\",4,\"ngIf\"],[\"class\",\"watchlist-btn\",3,\"click\",4,\"ngIf\"],[\"class\",\"portfolio-btn\",3,\"click\",4,\"ngIf\"],[\"class\",\"leaderboard-btn\",3,\"click\",4,\"ngIf\"],[1,\"login-btn\",3,\"click\"],[1,\"stocks-btn\",3,\"click\"],[1,\"watchlist-btn\",3,\"click\"],[1,\"portfolio-btn\",3,\"click\"],[1,\"leaderboard-btn\",3,\"click\"]],template:function(t,e){1&t&&(s.Pb(0,\"ion-header\"),s.Pb(1,\"ion-toolbar\",0),s.Pb(2,\"div\",1),s.Pb(3,\"img\",2),s.Xb(\"click\",function(){return e.sendToHome()}),s.Ob(),s.Pb(4,\"div\",3),s.lc(5,f,2,0,\"ion-button\",4),s.lc(6,m,2,0,\"ion-button\",5),s.lc(7,P,2,0,\"ion-button\",6),s.lc(8,O,2,0,\"ion-button\",7),s.Pb(9,\"ion-button\",8),s.Xb(\"click\",function(){return e.submit()}),s.mc(10),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob()),2&t&&(s.Cb(5),s.ec(\"ngIf\",\"/search\"!=e.router.url&&1==e.isLoggedIn),s.Cb(1),s.ec(\"ngIf\",\"/watch-list\"!=e.router.url&&1==e.isLoggedIn),s.Cb(1),s.ec(\"ngIf\",\"/portfolio\"!=e.router.url&&1==e.isLoggedIn),s.Cb(1),s.ec(\"ngIf\",\"/leaderboard\"!=e.router.url&&1==e.isLoggedIn),s.Cb(2),s.nc(e.getLoginButtonText()))},directives:[c.i],styles:[\".header-content-container[_ngcontent-%COMP%]{display:flex}.toolbar[_ngcontent-%COMP%]{--background:#6bb37a;color:#9cdcf0}.login-btn[_ngcontent-%COMP%]{margin-right:20px;margin-left:20px}.stocks-btn[_ngcontent-%COMP%]{--background:#6bb37a}.leaderboard-btn[_ngcontent-%COMP%], .portfolio-btn[_ngcontent-%COMP%], .watchlist-btn[_ngcontent-%COMP%]{--background:#6bb37a;margin-left:10px}.logo[_ngcontent-%COMP%]{width:200px}.buttons-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:100%;align-items:center}\"]}),t})()}}]);","name":"11.9fd55724d8fa33f374b6.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[11],{\n\n/***/ \"d2mR\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return SharedModule; });\n/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"3Pt+\");\n/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"ofXK\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"fXoL\");\n\r\n\r\n\r\nlet SharedModule = /*@__PURE__*/ (() => {\r\n    class SharedModule {\r\n    }\r\n    SharedModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_2__[/* ɵɵdefineNgModule */ \"Kb\"]({ type: SharedModule });\r\n    SharedModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_2__[/* ɵɵdefineInjector */ \"Jb\"]({ factory: function SharedModule_Factory(t) { return new (t || SharedModule)(); }, providers: [], imports: [[_angular_forms__WEBPACK_IMPORTED_MODULE_0__[/* FormsModule */ \"b\"], _angular_forms__WEBPACK_IMPORTED_MODULE_0__[/* ReactiveFormsModule */ \"h\"], _angular_common__WEBPACK_IMPORTED_MODULE_1__[/* CommonModule */ \"b\"]]] });\r\n    return SharedModule;\r\n})();\r\n\n\n/***/ }),\n\n/***/ \"gHLX\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"LeaderboardPageModule\", function() { return /* binding */ leaderboard_module_LeaderboardPageModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js + 1 modules\nvar fesm2015_forms = __webpack_require__(\"3Pt+\");\n\n// EXTERNAL MODULE: ./src/app/shared.module.ts\nvar shared_module = __webpack_require__(\"d2mR\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 6 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/http.js\nvar http = __webpack_require__(\"tk/3\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 6 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./src/app/services/user-auth.service.ts\nvar user_auth_service = __webpack_require__(\"hZP9\");\n\n// EXTERNAL MODULE: ./src/app/components/navbar/navbar.component.ts + 1 modules\nvar navbar_component = __webpack_require__(\"hrlM\");\n\n// CONCATENATED MODULE: ./src/app/pages/leaderboard/leaderboard.page.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction LeaderboardPage_tr_13_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"Pb\" /* ɵɵelementStart */](0, \"tr\");\r\n        core[\"Pb\" /* ɵɵelementStart */](1, \"td\");\r\n        core[\"mc\" /* ɵɵtext */](2);\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n        core[\"Pb\" /* ɵɵelementStart */](3, \"td\");\r\n        core[\"mc\" /* ɵɵtext */](4);\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n        core[\"Pb\" /* ɵɵelementStart */](5, \"td\");\r\n        core[\"mc\" /* ɵɵtext */](6);\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const data_r2 = ctx.$implicit;\r\n        const i_r3 = ctx.index;\r\n        const ctx_r0 = core[\"Zb\" /* ɵɵnextContext */]();\r\n        core[\"Cb\" /* ɵɵadvance */](2);\r\n        core[\"nc\" /* ɵɵtextInterpolate */](i_r3 + 1);\r\n        core[\"Cb\" /* ɵɵadvance */](2);\r\n        core[\"nc\" /* ɵɵtextInterpolate */](data_r2.nickname);\r\n        core[\"Cb\" /* ɵɵadvance */](2);\r\n        core[\"nc\" /* ɵɵtextInterpolate */](ctx_r0.currencyFormat(data_r2.money));\r\n    }\r\n}\r\nfunction LeaderboardPage_div_14_tr_13_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"Pb\" /* ɵɵelementStart */](0, \"tr\");\r\n        core[\"Pb\" /* ɵɵelementStart */](1, \"td\");\r\n        core[\"mc\" /* ɵɵtext */](2);\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n        core[\"Pb\" /* ɵɵelementStart */](3, \"td\");\r\n        core[\"mc\" /* ɵɵtext */](4);\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n        core[\"Pb\" /* ɵɵelementStart */](5, \"td\");\r\n        core[\"mc\" /* ɵɵtext */](6);\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const ctx_r4 = core[\"Zb\" /* ɵɵnextContext */](2);\r\n        core[\"Cb\" /* ɵɵadvance */](2);\r\n        core[\"nc\" /* ɵɵtextInterpolate */](ctx_r4.data1[0].level);\r\n        core[\"Cb\" /* ɵɵadvance */](2);\r\n        core[\"nc\" /* ɵɵtextInterpolate */](ctx_r4.data1[0].nickname);\r\n        core[\"Cb\" /* ɵɵadvance */](2);\r\n        core[\"nc\" /* ɵɵtextInterpolate */](ctx_r4.currencyFormat(ctx_r4.data1[0].money));\r\n    }\r\n}\r\nfunction LeaderboardPage_div_14_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        core[\"Pb\" /* ɵɵelementStart */](0, \"div\");\r\n        core[\"Pb\" /* ɵɵelementStart */](1, \"h1\", 4);\r\n        core[\"mc\" /* ɵɵtext */](2, \"Your Rank:\");\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n        core[\"Pb\" /* ɵɵelementStart */](3, \"table\", 1);\r\n        core[\"Pb\" /* ɵɵelementStart */](4, \"thead\");\r\n        core[\"Pb\" /* ɵɵelementStart */](5, \"tr\");\r\n        core[\"Pb\" /* ɵɵelementStart */](6, \"th\");\r\n        core[\"mc\" /* ɵɵtext */](7, \"#\");\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n        core[\"Pb\" /* ɵɵelementStart */](8, \"th\");\r\n        core[\"mc\" /* ɵɵtext */](9, \"User\");\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n        core[\"Pb\" /* ɵɵelementStart */](10, \"th\");\r\n        core[\"mc\" /* ɵɵtext */](11, \"Balance\");\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n        core[\"Pb\" /* ɵɵelementStart */](12, \"tbody\");\r\n        core[\"lc\" /* ɵɵtemplate */](13, LeaderboardPage_div_14_tr_13_Template, 7, 3, \"tr\", 2);\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const ctx_r1 = core[\"Zb\" /* ɵɵnextContext */]();\r\n        core[\"Cb\" /* ɵɵadvance */](13);\r\n        core[\"ec\" /* ɵɵproperty */](\"ngForOf\", ctx_r1.data1);\r\n    }\r\n}\r\nlet leaderboard_page_LeaderboardPage = /*@__PURE__*/ (() => {\r\n    class LeaderboardPage {\r\n        constructor(http, userAuth, route) {\r\n            this.http = http;\r\n            this.userAuth = userAuth;\r\n            this.url = \"\";\r\n            this.topTen = false;\r\n            route.params.subscribe(val => {\r\n                this.getLeaderboard();\r\n            });\r\n        }\r\n        ngOnInit() {\r\n        }\r\n        currencyFormat(num) {\r\n            return '$' + num.toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,');\r\n        }\r\n        getLeaderboard() {\r\n            this.userAuth.userObservable.subscribe((userData) => {\r\n                this.user = userData;\r\n                if (this.user != null) {\r\n                    this.url = \"http://192.53.121.88:5000/getLeaderboard?userID=xmjoz\";\r\n                    this.http.get(this.url).subscribe(datas => {\r\n                        this.data = datas[\"topTen\"];\r\n                        this.data1 = datas[\"user\"];\r\n                        if (this.data1 == \"top10\") {\r\n                            this.topTen = true;\r\n                        }\r\n                        else {\r\n                            this.topTen = false;\r\n                        }\r\n                        console.log(this.data1[0][\"level\"]);\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n    LeaderboardPage.ɵfac = function LeaderboardPage_Factory(t) { return new (t || LeaderboardPage)(core[\"Mb\" /* ɵɵdirectiveInject */](http[\"a\" /* HttpClient */]), core[\"Mb\" /* ɵɵdirectiveInject */](user_auth_service[\"a\" /* UserAuthService */]), core[\"Mb\" /* ɵɵdirectiveInject */](router[\"a\" /* ActivatedRoute */])); };\r\n    LeaderboardPage.ɵcmp = core[\"Gb\" /* ɵɵdefineComponent */]({ type: LeaderboardPage, selectors: [[\"app-leaderboard\"]], decls: 15, vars: 2, consts: [[\"id\", \"spacer\"], [\"id\", \"table\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"your-rank\"]], template: function LeaderboardPage_Template(rf, ctx) {\r\n            if (rf & 1) {\r\n                core[\"Pb\" /* ɵɵelementStart */](0, \"ion-content\");\r\n                core[\"Nb\" /* ɵɵelement */](1, \"navbar\");\r\n                core[\"Nb\" /* ɵɵelement */](2, \"div\", 0);\r\n                core[\"Pb\" /* ɵɵelementStart */](3, \"table\", 1);\r\n                core[\"Pb\" /* ɵɵelementStart */](4, \"thead\");\r\n                core[\"Pb\" /* ɵɵelementStart */](5, \"tr\");\r\n                core[\"Pb\" /* ɵɵelementStart */](6, \"th\");\r\n                core[\"mc\" /* ɵɵtext */](7, \"#\");\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Pb\" /* ɵɵelementStart */](8, \"th\");\r\n                core[\"mc\" /* ɵɵtext */](9, \"User\");\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Pb\" /* ɵɵelementStart */](10, \"th\");\r\n                core[\"mc\" /* ɵɵtext */](11, \"Balance\");\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Pb\" /* ɵɵelementStart */](12, \"tbody\");\r\n                core[\"lc\" /* ɵɵtemplate */](13, LeaderboardPage_tr_13_Template, 7, 3, \"tr\", 2);\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"lc\" /* ɵɵtemplate */](14, LeaderboardPage_div_14_Template, 14, 1, \"div\", 3);\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n            }\r\n            if (rf & 2) {\r\n                core[\"Cb\" /* ɵɵadvance */](13);\r\n                core[\"ec\" /* ɵɵproperty */](\"ngForOf\", ctx.data);\r\n                core[\"Cb\" /* ɵɵadvance */](1);\r\n                core[\"ec\" /* ɵɵproperty */](\"ngIf\", !ctx.topTen);\r\n            }\r\n        }, directives: [ionic_angular[\"c\" /* IonContent */], navbar_component[\"a\" /* NavbarComponent */], common[\"h\" /* NgForOf */], common[\"i\" /* NgIf */]], styles: [\"table[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:2px solid #000;border-collapse:collapse;color:#000;text-align:center}th[_ngcontent-%COMP%]{font-size:large}table[_ngcontent-%COMP%]{width:100%;background-color:#fff}#spacer[_ngcontent-%COMP%]{margin-top:4%}.your-rank[_ngcontent-%COMP%]{display:flex;justify-content:space-between}#table[_ngcontent-%COMP%]{width:60%;margin-left:20%}.your-rank[_ngcontent-%COMP%]{width:100%;text-align:center;font-weight:500;display:inline-block;color:grey;border-bottom:4px solid grey;margin:20px auto}\"] });\r\n    return LeaderboardPage;\r\n})();\r\n\n// CONCATENATED MODULE: ./src/app/pages/leaderboard/leaderboard-routing.module.ts\n\r\n\r\n\r\n\r\nconst routes = [\r\n    {\r\n        path: '',\r\n        component: leaderboard_page_LeaderboardPage\r\n    }\r\n];\r\nlet leaderboard_routing_module_LeaderboardPageRoutingModule = /*@__PURE__*/ (() => {\r\n    class LeaderboardPageRoutingModule {\r\n    }\r\n    LeaderboardPageRoutingModule.ɵmod = core[\"Kb\" /* ɵɵdefineNgModule */]({ type: LeaderboardPageRoutingModule });\r\n    LeaderboardPageRoutingModule.ɵinj = core[\"Jb\" /* ɵɵdefineInjector */]({ factory: function LeaderboardPageRoutingModule_Factory(t) { return new (t || LeaderboardPageRoutingModule)(); }, imports: [[router[\"i\" /* RouterModule */].forChild(routes)], router[\"i\" /* RouterModule */]] });\r\n    return LeaderboardPageRoutingModule;\r\n})();\r\n\n// CONCATENATED MODULE: ./src/app/pages/leaderboard/leaderboard.module.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet leaderboard_module_LeaderboardPageModule = /*@__PURE__*/ (() => {\r\n    class LeaderboardPageModule {\r\n    }\r\n    LeaderboardPageModule.ɵmod = core[\"Kb\" /* ɵɵdefineNgModule */]({ type: LeaderboardPageModule });\r\n    LeaderboardPageModule.ɵinj = core[\"Jb\" /* ɵɵdefineInjector */]({ factory: function LeaderboardPageModule_Factory(t) { return new (t || LeaderboardPageModule)(); }, imports: [[\r\n                common[\"b\" /* CommonModule */],\r\n                fesm2015_forms[\"b\" /* FormsModule */],\r\n                ionic_angular[\"f\" /* IonicModule */],\r\n                shared_module[\"a\" /* SharedModule */],\r\n                leaderboard_routing_module_LeaderboardPageRoutingModule,\r\n                http[\"b\" /* HttpClientModule */]\r\n            ]] });\r\n    return LeaderboardPageModule;\r\n})();\r\n\n\n/***/ }),\n\n/***/ \"hZP9\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return UserAuthService; });\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"2Vo4\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"fXoL\");\n/* harmony import */ var _angular_fire_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"UbJi\");\n/* harmony import */ var _angular_fire_firestore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"I/3d\");\n/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"tk/3\");\n\r\n\r\n\r\n\r\n\r\nlet UserAuthService = /*@__PURE__*/ (() => {\r\n    class UserAuthService {\r\n        constructor(auth, db, http) {\r\n            this.auth = auth;\r\n            this.db = db;\r\n            this.http = http;\r\n            this.isLoggedIn = false;\r\n            this.user = { auth: null, data: null };\r\n            // auth.createUserWithEmailAndPassword(\"test@hotmail.com\", \"testtest\");\r\n            this.userObservable = new rxjs__WEBPACK_IMPORTED_MODULE_0__[/* BehaviorSubject */ \"a\"](null);\r\n            this.updateUserState();\r\n        }\r\n        updateUserState() {\r\n            this.auth.onAuthStateChanged(auth => {\r\n                // if user is signed in\r\n                if (auth != null) {\r\n                    console.log(\"logged in\");\r\n                    this.user.auth = auth;\r\n                    this.isLoggedIn = true;\r\n                    this.getUserFromEmail(auth.email).then(userData => {\r\n                        this.user.data = userData;\r\n                        console.log(this.user);\r\n                        // Alert the rest of the website that the user info changed\r\n                        this.userObservable.next(this.user.data);\r\n                    });\r\n                }\r\n                else {\r\n                    this.user.auth = null;\r\n                    this.user.data = null;\r\n                    this.isLoggedIn = false;\r\n                    console.log(\"logged out\");\r\n                    this.userObservable.next(null);\r\n                }\r\n                console.log(\"auth data has changed!\");\r\n            });\r\n        }\r\n        getUserFromEmail(email) {\r\n            return new Promise((resolve, reject) => {\r\n                this.db.collection(\"users\", ref => ref.where(\"email\", \"==\", email)).get().forEach(userList => {\r\n                    userList.forEach(user => {\r\n                        resolve(user.data());\r\n                    });\r\n                });\r\n            });\r\n        }\r\n        createUser(email, password, nickname) {\r\n            // Create a promise\r\n            return new Promise((resolve, reject) => {\r\n                // Check if the nickname was taken\r\n                this.checkIfNicknameIsTaken(nickname).then(isTaken => {\r\n                    if (isTaken == true) {\r\n                        reject(\"This nickname has already been taken!\");\r\n                    }\r\n                    else {\r\n                        let url = 'http://127.0.0.1:5000/createUser?userID=' + email + \"&nickname=\" + nickname;\r\n                        console.log(url);\r\n                        this.http.get(url).subscribe(result => {\r\n                            console.log(\"brought message back from server.\", result);\r\n                        });\r\n                        this.auth.createUserWithEmailAndPassword(email, password).then(userAuthData => {\r\n                            // Create user in our cloud firestore database\r\n                            let user = { id: userAuthData.user.uid, email: email, nickname: nickname };\r\n                            this.db.collection(\"users\").doc(user.id).set(user).then(userData => {\r\n                                resolve(userData);\r\n                            })\r\n                                .catch(error => {\r\n                                reject(error);\r\n                            });\r\n                        }).catch(error => {\r\n                            reject(error.message);\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        login(email, password) {\r\n            return new Promise((resolve, reject) => {\r\n                this.auth.signInWithEmailAndPassword(email, password).then(() => {\r\n                    resolve();\r\n                }).catch(error => {\r\n                    console.log(error);\r\n                    let errorMessage = error.message;\r\n                });\r\n            });\r\n        }\r\n        sendForgotPasswordEmail(email) {\r\n            return new Promise((resolve, reject) => {\r\n                this.auth.sendPasswordResetEmail(email).then(() => {\r\n                    resolve(true);\r\n                });\r\n            });\r\n        }\r\n        logout() {\r\n            this.auth.signOut();\r\n        }\r\n        checkIfNicknameIsTaken(nickname) {\r\n            return new Promise((resolve, reject) => {\r\n                this.db.collection(\"users\", ref => ref.where(\"nickname\", \"==\", nickname)).get().forEach(usersList => {\r\n                    // If no users are returned nickname is not taken. Return false\r\n                    if (usersList.size == 0) {\r\n                        resolve(false);\r\n                    }\r\n                    // If users are returned nickname is taken. Return true\r\n                    else {\r\n                        resolve(true);\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    }\r\n    UserAuthService.ɵfac = function UserAuthService_Factory(t) { return new (t || UserAuthService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵinject */ \"Tb\"](_angular_fire_auth__WEBPACK_IMPORTED_MODULE_2__[/* AngularFireAuth */ \"a\"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵinject */ \"Tb\"](_angular_fire_firestore__WEBPACK_IMPORTED_MODULE_3__[/* AngularFirestore */ \"a\"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵinject */ \"Tb\"](_angular_common_http__WEBPACK_IMPORTED_MODULE_4__[/* HttpClient */ \"a\"])); };\r\n    UserAuthService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__[/* ɵɵdefineInjectable */ \"Ib\"]({ token: UserAuthService, factory: UserAuthService.ɵfac, providedIn: 'root' });\r\n    return UserAuthService;\r\n})();\r\n\n\n/***/ }),\n\n/***/ \"hrlM\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ navbar_component_NavbarComponent; });\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 6 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./src/app/services/user-auth.service.ts\nvar user_auth_service = __webpack_require__(\"hZP9\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js + 1 modules\nvar fesm2015_forms = __webpack_require__(\"3Pt+\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// CONCATENATED MODULE: ./src/app/components/modal-login/modal-login.component.ts\n\r\n\r\n\r\n\r\n\r\n\r\nfunction ModalLoginComponent_input_5_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        const _r6 = core[\"Qb\" /* ɵɵgetCurrentView */]();\r\n        core[\"Pb\" /* ɵɵelementStart */](0, \"input\", 8);\r\n        core[\"Xb\" /* ɵɵlistener */](\"ngModelChange\", function ModalLoginComponent_input_5_Template_input_ngModelChange_0_listener($event) { core[\"hc\" /* ɵɵrestoreView */](_r6); const ctx_r5 = core[\"Zb\" /* ɵɵnextContext */](); return ctx_r5.passwordInput = $event; });\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const ctx_r0 = core[\"Zb\" /* ɵɵnextContext */]();\r\n        core[\"ec\" /* ɵɵproperty */](\"ngModel\", ctx_r0.passwordInput);\r\n    }\r\n}\r\nfunction ModalLoginComponent_input_6_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        const _r8 = core[\"Qb\" /* ɵɵgetCurrentView */]();\r\n        core[\"Pb\" /* ɵɵelementStart */](0, \"input\", 9);\r\n        core[\"Xb\" /* ɵɵlistener */](\"ngModelChange\", function ModalLoginComponent_input_6_Template_input_ngModelChange_0_listener($event) { core[\"hc\" /* ɵɵrestoreView */](_r8); const ctx_r7 = core[\"Zb\" /* ɵɵnextContext */](); return ctx_r7.nicknameInput = $event; });\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n    }\r\n    if (rf & 2) {\r\n        const ctx_r1 = core[\"Zb\" /* ɵɵnextContext */]();\r\n        core[\"ec\" /* ɵɵproperty */](\"ngModel\", ctx_r1.nicknameInput);\r\n    }\r\n}\r\nfunction ModalLoginComponent_a_7_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        const _r10 = core[\"Qb\" /* ɵɵgetCurrentView */]();\r\n        core[\"Pb\" /* ɵɵelementStart */](0, \"a\", 10);\r\n        core[\"Xb\" /* ɵɵlistener */](\"click\", function ModalLoginComponent_a_7_Template_a_click_0_listener() { core[\"hc\" /* ɵɵrestoreView */](_r10); const ctx_r9 = core[\"Zb\" /* ɵɵnextContext */](); return ctx_r9.changeState(\"login\"); });\r\n        core[\"mc\" /* ɵɵtext */](1, \"Already have an account? Click here to login!\");\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n    }\r\n}\r\nfunction ModalLoginComponent_a_8_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        const _r12 = core[\"Qb\" /* ɵɵgetCurrentView */]();\r\n        core[\"Pb\" /* ɵɵelementStart */](0, \"a\", 10);\r\n        core[\"Xb\" /* ɵɵlistener */](\"click\", function ModalLoginComponent_a_8_Template_a_click_0_listener() { core[\"hc\" /* ɵɵrestoreView */](_r12); const ctx_r11 = core[\"Zb\" /* ɵɵnextContext */](); return ctx_r11.changeState(\"signup\"); });\r\n        core[\"mc\" /* ɵɵtext */](1, \"Don't have an account? Click here to sign up!\");\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n    }\r\n}\r\nfunction ModalLoginComponent_a_9_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        const _r14 = core[\"Qb\" /* ɵɵgetCurrentView */]();\r\n        core[\"Pb\" /* ɵɵelementStart */](0, \"a\", 10);\r\n        core[\"Xb\" /* ɵɵlistener */](\"click\", function ModalLoginComponent_a_9_Template_a_click_0_listener() { core[\"hc\" /* ɵɵrestoreView */](_r14); const ctx_r13 = core[\"Zb\" /* ɵɵnextContext */](); return ctx_r13.changeState(\"forgotPassword\"); });\r\n        core[\"mc\" /* ɵɵtext */](1, \"Forgot your password?\");\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n    }\r\n}\r\nlet modal_login_component_ModalLoginComponent = /*@__PURE__*/ (() => {\r\n    class ModalLoginComponent {\r\n        constructor(toastController, userAuthService) {\r\n            this.toastController = toastController;\r\n            this.userAuthService = userAuthService;\r\n            this.state = \"\";\r\n            this.headerText = \"Sign Up\";\r\n            this.emailInput = \"\";\r\n            this.passwordInput = \"\";\r\n            this.nicknameInput = \"\";\r\n        }\r\n        ngOnInit() {\r\n            this.changeState(\"login\");\r\n        }\r\n        closeModal() {\r\n            this.modal.dismiss();\r\n        }\r\n        changeState(state) {\r\n            this.state = state;\r\n            if (this.state == \"login\") {\r\n                this.headerText = \"Login\";\r\n            }\r\n            else if (this.state == \"signup\") {\r\n                this.headerText = \"Sign Up\";\r\n            }\r\n            else if (this.state == \"forgotPassword\") {\r\n                this.headerText = \"Forgot Password\";\r\n            }\r\n        }\r\n        submit() {\r\n            // Start of validation\r\n            // Validate email\r\n            if (this.validateEmail(this.emailInput) == false) {\r\n                this.presentToast(\"Please enter a valid email!\", \"danger\");\r\n                return;\r\n            }\r\n            // Validate password\r\n            if (this.state != \"forgotPassword\" && this.passwordInput.length < 8) {\r\n                this.presentToast(\"Password must be at least 8 characters\", \"danger\");\r\n                return;\r\n            }\r\n            if (this.state == \"signup\" && this.nicknameInput == \"\") {\r\n                this.presentToast(\"Please enter a nickname\", \"danger\");\r\n                return;\r\n            }\r\n            // End of validation\r\n            if (this.state == \"login\") {\r\n                console.log('do login stuff');\r\n                this.userAuthService.login(this.emailInput, this.passwordInput).then(() => {\r\n                    this.modal.dismiss();\r\n                });\r\n            }\r\n            else if (this.state == \"signup\") {\r\n                console.log('do signup stuff');\r\n                this.userAuthService.createUser(this.emailInput, this.passwordInput, this.nicknameInput).then(userData => {\r\n                    this.modal.dismiss();\r\n                }).catch(errorMessage => {\r\n                    // Catch means there was an error(Reject)\r\n                    this.presentToast(errorMessage, \"danger\");\r\n                });\r\n                this.presentToast(\"Thank you for signing up!\", \"success\");\r\n            }\r\n            else if (this.state == \"forgotPassword\") {\r\n                this.userAuthService.sendForgotPasswordEmail(this.emailInput).then(() => {\r\n                    this.presentToast(\"Reset password email has been sent!\", \"success\");\r\n                });\r\n                console.log('do forgot password stuff');\r\n                this.modal.dismiss();\r\n            }\r\n        }\r\n        validateEmail(email) {\r\n            // Verify email\r\n            const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n            return re.test(String(email).toLowerCase());\r\n        }\r\n        presentToast(myMessage, myColor) {\r\n            return Object(tslib_es6[\"b\" /* __awaiter */])(this, void 0, void 0, function* () {\r\n                const toast = yield this.toastController.create({\r\n                    message: myMessage,\r\n                    duration: 5000,\r\n                    color: myColor\r\n                });\r\n                toast.present();\r\n            });\r\n        }\r\n    }\r\n    ModalLoginComponent.ɵfac = function ModalLoginComponent_Factory(t) { return new (t || ModalLoginComponent)(core[\"Mb\" /* ɵɵdirectiveInject */](ionic_angular[\"j\" /* ToastController */]), core[\"Mb\" /* ɵɵdirectiveInject */](user_auth_service[\"a\" /* UserAuthService */])); };\r\n    ModalLoginComponent.ɵcmp = core[\"Gb\" /* ɵɵdefineComponent */]({ type: ModalLoginComponent, selectors: [[\"app-modal-login\"]], decls: 12, vars: 7, consts: [[1, \"container\"], [1, \"login-template\"], [1, \"header-text\"], [\"placeholder\", \"Email\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"placeholder\", \"Password\", 3, \"ngModel\", \"ngModelChange\", 4, \"ngIf\"], [\"placeholder\", \"Nickname\", 3, \"ngModel\", \"ngModelChange\", 4, \"ngIf\"], [\"class\", \"change-template-link\", \"href\", \"javascript:;\", 3, \"click\", 4, \"ngIf\"], [\"color\", \"primary\", 1, \"submit-button\", 3, \"click\"], [\"type\", \"password\", \"placeholder\", \"Password\", 3, \"ngModel\", \"ngModelChange\"], [\"placeholder\", \"Nickname\", 3, \"ngModel\", \"ngModelChange\"], [\"href\", \"javascript:;\", 1, \"change-template-link\", 3, \"click\"]], template: function ModalLoginComponent_Template(rf, ctx) {\r\n            if (rf & 1) {\r\n                core[\"Pb\" /* ɵɵelementStart */](0, \"div\", 0);\r\n                core[\"Pb\" /* ɵɵelementStart */](1, \"div\", 1);\r\n                core[\"Pb\" /* ɵɵelementStart */](2, \"p\", 2);\r\n                core[\"mc\" /* ɵɵtext */](3);\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Pb\" /* ɵɵelementStart */](4, \"input\", 3);\r\n                core[\"Xb\" /* ɵɵlistener */](\"ngModelChange\", function ModalLoginComponent_Template_input_ngModelChange_4_listener($event) { return ctx.emailInput = $event; });\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"lc\" /* ɵɵtemplate */](5, ModalLoginComponent_input_5_Template, 1, 1, \"input\", 4);\r\n                core[\"lc\" /* ɵɵtemplate */](6, ModalLoginComponent_input_6_Template, 1, 1, \"input\", 5);\r\n                core[\"lc\" /* ɵɵtemplate */](7, ModalLoginComponent_a_7_Template, 2, 0, \"a\", 6);\r\n                core[\"lc\" /* ɵɵtemplate */](8, ModalLoginComponent_a_8_Template, 2, 0, \"a\", 6);\r\n                core[\"lc\" /* ɵɵtemplate */](9, ModalLoginComponent_a_9_Template, 2, 0, \"a\", 6);\r\n                core[\"Pb\" /* ɵɵelementStart */](10, \"ion-button\", 7);\r\n                core[\"Xb\" /* ɵɵlistener */](\"click\", function ModalLoginComponent_Template_ion_button_click_10_listener() { return ctx.submit(); });\r\n                core[\"mc\" /* ɵɵtext */](11, \"Submit\");\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n            }\r\n            if (rf & 2) {\r\n                core[\"Cb\" /* ɵɵadvance */](3);\r\n                core[\"nc\" /* ɵɵtextInterpolate */](ctx.headerText);\r\n                core[\"Cb\" /* ɵɵadvance */](1);\r\n                core[\"ec\" /* ɵɵproperty */](\"ngModel\", ctx.emailInput);\r\n                core[\"Cb\" /* ɵɵadvance */](1);\r\n                core[\"ec\" /* ɵɵproperty */](\"ngIf\", ctx.state != \"forgotPassword\");\r\n                core[\"Cb\" /* ɵɵadvance */](1);\r\n                core[\"ec\" /* ɵɵproperty */](\"ngIf\", ctx.state == \"signup\");\r\n                core[\"Cb\" /* ɵɵadvance */](1);\r\n                core[\"ec\" /* ɵɵproperty */](\"ngIf\", ctx.state != \"login\");\r\n                core[\"Cb\" /* ɵɵadvance */](1);\r\n                core[\"ec\" /* ɵɵproperty */](\"ngIf\", ctx.state != \"signup\");\r\n                core[\"Cb\" /* ɵɵadvance */](1);\r\n                core[\"ec\" /* ɵɵproperty */](\"ngIf\", ctx.state == \"login\");\r\n            }\r\n        }, directives: [fesm2015_forms[\"a\" /* DefaultValueAccessor */], fesm2015_forms[\"e\" /* NgControlStatus */], fesm2015_forms[\"f\" /* NgModel */], common[\"i\" /* NgIf */]], styles: [\".container[_ngcontent-%COMP%]{margin:3%;height:100%}.login-template[_ngcontent-%COMP%]{display:flex;flex-direction:column}input[_ngcontent-%COMP%]{border:1px solid #d3d3d3;border-radius:5px;margin-bottom:3%}.header[_ngcontent-%COMP%]{font-size:23px}.change-template-link[_ngcontent-%COMP%]{margin-bottom:3%}.submit-btn[_ngcontent-%COMP%]{margin-top:2%}\"] });\r\n    return ModalLoginComponent;\r\n})();\r\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 6 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// CONCATENATED MODULE: ./src/app/components/navbar/navbar.component.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction NavbarComponent_ion_button_5_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        const _r5 = core[\"Qb\" /* ɵɵgetCurrentView */]();\r\n        core[\"Pb\" /* ɵɵelementStart */](0, \"ion-button\", 9);\r\n        core[\"Xb\" /* ɵɵlistener */](\"click\", function NavbarComponent_ion_button_5_Template_ion_button_click_0_listener() { core[\"hc\" /* ɵɵrestoreView */](_r5); const ctx_r4 = core[\"Zb\" /* ɵɵnextContext */](); return ctx_r4.sendToSearch(); });\r\n        core[\"mc\" /* ɵɵtext */](1, \"Stocks Search\");\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n    }\r\n}\r\nfunction NavbarComponent_ion_button_6_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        const _r7 = core[\"Qb\" /* ɵɵgetCurrentView */]();\r\n        core[\"Pb\" /* ɵɵelementStart */](0, \"ion-button\", 10);\r\n        core[\"Xb\" /* ɵɵlistener */](\"click\", function NavbarComponent_ion_button_6_Template_ion_button_click_0_listener() { core[\"hc\" /* ɵɵrestoreView */](_r7); const ctx_r6 = core[\"Zb\" /* ɵɵnextContext */](); return ctx_r6.sendToWatchlist(); });\r\n        core[\"mc\" /* ɵɵtext */](1, \"Watchlist\");\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n    }\r\n}\r\nfunction NavbarComponent_ion_button_7_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        const _r9 = core[\"Qb\" /* ɵɵgetCurrentView */]();\r\n        core[\"Pb\" /* ɵɵelementStart */](0, \"ion-button\", 11);\r\n        core[\"Xb\" /* ɵɵlistener */](\"click\", function NavbarComponent_ion_button_7_Template_ion_button_click_0_listener() { core[\"hc\" /* ɵɵrestoreView */](_r9); const ctx_r8 = core[\"Zb\" /* ɵɵnextContext */](); return ctx_r8.sendToPortfolio(); });\r\n        core[\"mc\" /* ɵɵtext */](1, \"Portfolio\");\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n    }\r\n}\r\nfunction NavbarComponent_ion_button_8_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n        const _r11 = core[\"Qb\" /* ɵɵgetCurrentView */]();\r\n        core[\"Pb\" /* ɵɵelementStart */](0, \"ion-button\", 12);\r\n        core[\"Xb\" /* ɵɵlistener */](\"click\", function NavbarComponent_ion_button_8_Template_ion_button_click_0_listener() { core[\"hc\" /* ɵɵrestoreView */](_r11); const ctx_r10 = core[\"Zb\" /* ɵɵnextContext */](); return ctx_r10.sendToLeaderboard(); });\r\n        core[\"mc\" /* ɵɵtext */](1, \"Leaderboard\");\r\n        core[\"Ob\" /* ɵɵelementEnd */]();\r\n    }\r\n}\r\nlet navbar_component_NavbarComponent = /*@__PURE__*/ (() => {\r\n    class NavbarComponent {\r\n        constructor(router, modalController, userAuthService) {\r\n            this.router = router;\r\n            this.modalController = modalController;\r\n            this.userAuthService = userAuthService;\r\n            this.isLoggedIn = false;\r\n        }\r\n        sendToPortfolio() {\r\n            this.router.navigate(['/portfolio']);\r\n        }\r\n        sendToLeaderboard() {\r\n            this.router.navigate(['/leaderboard']);\r\n        }\r\n        sendToWatchlist() {\r\n            this.router.navigate(['/watch-list']);\r\n        }\r\n        sendToSearch() {\r\n            this.router.navigate(['/search']);\r\n        }\r\n        sendToHome() {\r\n            this.router.navigate(['/']);\r\n        }\r\n        ngOnInit() {\r\n            this.userAuthService.userObservable.subscribe((userData) => {\r\n                this.user = userData;\r\n                if (this.user == null) {\r\n                    this.isLoggedIn = false;\r\n                }\r\n                else {\r\n                    this.isLoggedIn = true;\r\n                }\r\n            });\r\n        }\r\n        getLoginButtonText() {\r\n            if (this.isLoggedIn == false) {\r\n                // If user is NOT signed in\r\n                return \"Login\";\r\n            }\r\n            else {\r\n                // If user is signed in\r\n                return \"Logout\";\r\n            }\r\n        }\r\n        submit() {\r\n            if (this.user == null) {\r\n                // If not logged in\r\n                this.presentModal();\r\n            }\r\n            // If logged in\r\n            else {\r\n                this.userAuthService.logout();\r\n            }\r\n        }\r\n        presentModal() {\r\n            return Object(tslib_es6[\"b\" /* __awaiter */])(this, void 0, void 0, function* () {\r\n                const modal = yield this.modalController.create({\r\n                    component: modal_login_component_ModalLoginComponent,\r\n                    cssClass: 'login-modal'\r\n                });\r\n                modal.componentProps = {\r\n                    modal: modal\r\n                };\r\n                return yield modal.present();\r\n            });\r\n        }\r\n        checkLoginAction() {\r\n            return Object(tslib_es6[\"b\" /* __awaiter */])(this, void 0, void 0, function* () {\r\n                if (this.user == null) {\r\n                    this.presentModal();\r\n                }\r\n                else {\r\n                    this.userAuthService.logout();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    NavbarComponent.ɵfac = function NavbarComponent_Factory(t) { return new (t || NavbarComponent)(core[\"Mb\" /* ɵɵdirectiveInject */](router[\"g\" /* Router */]), core[\"Mb\" /* ɵɵdirectiveInject */](ionic_angular[\"h\" /* ModalController */]), core[\"Mb\" /* ɵɵdirectiveInject */](user_auth_service[\"a\" /* UserAuthService */])); };\r\n    NavbarComponent.ɵcmp = core[\"Gb\" /* ɵɵdefineComponent */]({ type: NavbarComponent, selectors: [[\"navbar\"]], decls: 11, vars: 5, consts: [[1, \"toolbar\"], [1, \"header-content-container\"], [\"src\", \"assets/logo.png\", \"alt\", \"your image\", 1, \"logo\", 3, \"click\"], [1, \"buttons-container\"], [\"class\", \"stocks-btn\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"watchlist-btn\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"portfolio-btn\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"leaderboard-btn\", 3, \"click\", 4, \"ngIf\"], [1, \"login-btn\", 3, \"click\"], [1, \"stocks-btn\", 3, \"click\"], [1, \"watchlist-btn\", 3, \"click\"], [1, \"portfolio-btn\", 3, \"click\"], [1, \"leaderboard-btn\", 3, \"click\"]], template: function NavbarComponent_Template(rf, ctx) {\r\n            if (rf & 1) {\r\n                core[\"Pb\" /* ɵɵelementStart */](0, \"ion-header\");\r\n                core[\"Pb\" /* ɵɵelementStart */](1, \"ion-toolbar\", 0);\r\n                core[\"Pb\" /* ɵɵelementStart */](2, \"div\", 1);\r\n                core[\"Pb\" /* ɵɵelementStart */](3, \"img\", 2);\r\n                core[\"Xb\" /* ɵɵlistener */](\"click\", function NavbarComponent_Template_img_click_3_listener() { return ctx.sendToHome(); });\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Pb\" /* ɵɵelementStart */](4, \"div\", 3);\r\n                core[\"lc\" /* ɵɵtemplate */](5, NavbarComponent_ion_button_5_Template, 2, 0, \"ion-button\", 4);\r\n                core[\"lc\" /* ɵɵtemplate */](6, NavbarComponent_ion_button_6_Template, 2, 0, \"ion-button\", 5);\r\n                core[\"lc\" /* ɵɵtemplate */](7, NavbarComponent_ion_button_7_Template, 2, 0, \"ion-button\", 6);\r\n                core[\"lc\" /* ɵɵtemplate */](8, NavbarComponent_ion_button_8_Template, 2, 0, \"ion-button\", 7);\r\n                core[\"Pb\" /* ɵɵelementStart */](9, \"ion-button\", 8);\r\n                core[\"Xb\" /* ɵɵlistener */](\"click\", function NavbarComponent_Template_ion_button_click_9_listener() { return ctx.submit(); });\r\n                core[\"mc\" /* ɵɵtext */](10);\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n                core[\"Ob\" /* ɵɵelementEnd */]();\r\n            }\r\n            if (rf & 2) {\r\n                core[\"Cb\" /* ɵɵadvance */](5);\r\n                core[\"ec\" /* ɵɵproperty */](\"ngIf\", ctx.router.url != \"/search\" && ctx.isLoggedIn == true);\r\n                core[\"Cb\" /* ɵɵadvance */](1);\r\n                core[\"ec\" /* ɵɵproperty */](\"ngIf\", ctx.router.url != \"/watch-list\" && ctx.isLoggedIn == true);\r\n                core[\"Cb\" /* ɵɵadvance */](1);\r\n                core[\"ec\" /* ɵɵproperty */](\"ngIf\", ctx.router.url != \"/portfolio\" && ctx.isLoggedIn == true);\r\n                core[\"Cb\" /* ɵɵadvance */](1);\r\n                core[\"ec\" /* ɵɵproperty */](\"ngIf\", ctx.router.url != \"/leaderboard\" && ctx.isLoggedIn == true);\r\n                core[\"Cb\" /* ɵɵadvance */](2);\r\n                core[\"nc\" /* ɵɵtextInterpolate */](ctx.getLoginButtonText());\r\n            }\r\n        }, directives: [common[\"i\" /* NgIf */]], styles: [\".header-content-container[_ngcontent-%COMP%]{display:flex}.toolbar[_ngcontent-%COMP%]{--background:#6bb37a;color:#9cdcf0}.login-btn[_ngcontent-%COMP%]{margin-right:20px;margin-left:20px}.stocks-btn[_ngcontent-%COMP%]{--background:#6bb37a}.leaderboard-btn[_ngcontent-%COMP%], .portfolio-btn[_ngcontent-%COMP%], .watchlist-btn[_ngcontent-%COMP%]{--background:#6bb37a;margin-left:10px}.logo[_ngcontent-%COMP%]{width:200px}.buttons-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:100%;align-items:center}\"] });\r\n    return NavbarComponent;\r\n})();\r\n\n\n/***/ })\n\n}]);","inputSourceMap":null}