{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{TpdJ:function(t,e,i){\"use strict\";i.r(e),i.d(e,\"ion_tab\",function(){return o}),i.d(e,\"ion_tabs\",function(){return a});var s=i(\"2atR\"),n=(i(\"Ke8Y\"),i(\"A2gu\"));const o=class{constructor(t){Object(s.o)(this,t),this.loaded=!1,this.active=!1}async componentWillLoad(){this.active&&await this.setActive()}async setActive(){await this.prepareLazyLoaded(),this.active=!0}changeActive(t){t&&this.prepareLazyLoaded()}prepareLazyLoaded(){if(!this.loaded&&null!=this.component){this.loaded=!0;try{return Object(n.a)(this.delegate,this.el,this.component,[\"ion-page\"])}catch(t){console.error(t)}}return Promise.resolve(void 0)}render(){const{tab:t,active:e,component:i}=this;return Object(s.j)(s.c,{role:\"tabpanel\",\"aria-hidden\":e?null:\"true\",\"aria-labelledby\":`tab-button-${t}`,class:{\"ion-page\":void 0===i,\"tab-hidden\":!e}},Object(s.j)(\"slot\",null))}get el(){return Object(s.k)(this)}static get watchers(){return{active:[\"changeActive\"]}}};o.style=\":host(.tab-hidden){display:none !important}\";const a=class{constructor(t){Object(s.o)(this,t),this.ionNavWillLoad=Object(s.g)(this,\"ionNavWillLoad\",7),this.ionTabsWillChange=Object(s.g)(this,\"ionTabsWillChange\",3),this.ionTabsDidChange=Object(s.g)(this,\"ionTabsDidChange\",3),this.transitioning=!1,this.useRouter=!1,this.onTabClicked=t=>{const{href:e,tab:i}=t.detail;if(this.useRouter&&void 0!==e){const t=document.querySelector(\"ion-router\");t&&t.push(e)}else this.select(i)}}async componentWillLoad(){if(this.useRouter||(this.useRouter=!!document.querySelector(\"ion-router\")&&!this.el.closest(\"[no-router]\")),!this.useRouter){const t=this.tabs;t.length>0&&await this.select(t[0])}this.ionNavWillLoad.emit()}componentWillRender(){const t=this.el.querySelector(\"ion-tab-bar\");t&&(t.selectedTab=this.selectedTab?this.selectedTab.tab:void 0)}async select(t){const e=r(this.tabs,t);return!!this.shouldSwitch(e)&&(await this.setActive(e),await this.notifyRouter(),this.tabSwitch(),!0)}async getTab(t){return r(this.tabs,t)}getSelected(){return Promise.resolve(this.selectedTab?this.selectedTab.tab:void 0)}async setRouteId(t){const e=r(this.tabs,t);return this.shouldSwitch(e)?(await this.setActive(e),{changed:!0,element:this.selectedTab,markVisible:()=>this.tabSwitch()}):{changed:!1,element:this.selectedTab}}async getRouteId(){const t=this.selectedTab&&this.selectedTab.tab;return void 0!==t?{id:t,element:this.selectedTab}:void 0}setActive(t){return this.transitioning?Promise.reject(\"transitioning already happening\"):(this.transitioning=!0,this.leavingTab=this.selectedTab,this.selectedTab=t,this.ionTabsWillChange.emit({tab:t.tab}),t.active=!0,Promise.resolve())}tabSwitch(){const t=this.selectedTab,e=this.leavingTab;this.leavingTab=void 0,this.transitioning=!1,t&&e!==t&&(e&&(e.active=!1),this.ionTabsDidChange.emit({tab:t.tab}))}notifyRouter(){if(this.useRouter){const t=document.querySelector(\"ion-router\");if(t)return t.navChanged(\"forward\")}return Promise.resolve(!1)}shouldSwitch(t){return void 0!==t&&t!==this.selectedTab&&!this.transitioning}get tabs(){return Array.from(this.el.querySelectorAll(\"ion-tab\"))}render(){return Object(s.j)(s.c,{onIonTabButtonClick:this.onTabClicked},Object(s.j)(\"slot\",{name:\"top\"}),Object(s.j)(\"div\",{class:\"tabs-inner\"},Object(s.j)(\"slot\",null)),Object(s.j)(\"slot\",{name:\"bottom\"}))}get el(){return Object(s.k)(this)}},r=(t,e)=>{const i=\"string\"==typeof e?t.find(t=>t.tab===e):e;return i||console.error(`tab with id: \"${i}\" does not exist`),i};a.style=\":host{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:0}.tabs-inner{position:relative;-ms-flex:1;flex:1;contain:layout size style}\"}}]);","name":"53.dd243506ab912645e830.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[53],{\n\n/***/ \"TpdJ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ion_tab\", function() { return Tab; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ion_tabs\", function() { return Tabs; });\n/* harmony import */ var _index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"2atR\");\n/* harmony import */ var _helpers_cf6e85ee_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"Ke8Y\");\n/* harmony import */ var _framework_delegate_bda125fb_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"A2gu\");\n\r\n\r\n\r\n\r\nconst tabCss = \":host(.tab-hidden){display:none !important}\";\r\n\r\nconst Tab = class {\r\n  constructor(hostRef) {\r\n    Object(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* r */ \"o\"])(this, hostRef);\r\n    this.loaded = false;\r\n    /** @internal */\r\n    this.active = false;\r\n  }\r\n  async componentWillLoad() {\r\n    if (this.active) {\r\n      await this.setActive();\r\n    }\r\n  }\r\n  /** Set the active component for the tab */\r\n  async setActive() {\r\n    await this.prepareLazyLoaded();\r\n    this.active = true;\r\n  }\r\n  changeActive(isActive) {\r\n    if (isActive) {\r\n      this.prepareLazyLoaded();\r\n    }\r\n  }\r\n  prepareLazyLoaded() {\r\n    if (!this.loaded && this.component != null) {\r\n      this.loaded = true;\r\n      try {\r\n        return Object(_framework_delegate_bda125fb_js__WEBPACK_IMPORTED_MODULE_2__[\"a\"])(this.delegate, this.el, this.component, ['ion-page']);\r\n      }\r\n      catch (e) {\r\n        console.error(e);\r\n      }\r\n    }\r\n    return Promise.resolve(undefined);\r\n  }\r\n  render() {\r\n    const { tab, active, component } = this;\r\n    return (Object(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"j\"])(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* H */ \"c\"], { role: \"tabpanel\", \"aria-hidden\": !active ? 'true' : null, \"aria-labelledby\": `tab-button-${tab}`, class: {\r\n        'ion-page': component === undefined,\r\n        'tab-hidden': !active\r\n      } }, Object(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"j\"])(\"slot\", null)));\r\n  }\r\n  get el() { return Object(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* i */ \"k\"])(this); }\r\n  static get watchers() { return {\r\n    \"active\": [\"changeActive\"]\r\n  }; }\r\n};\r\nTab.style = tabCss;\r\n\r\nconst tabsCss = \":host{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:0}.tabs-inner{position:relative;-ms-flex:1;flex:1;contain:layout size style}\";\r\n\r\nconst Tabs = class {\r\n  constructor(hostRef) {\r\n    Object(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* r */ \"o\"])(this, hostRef);\r\n    this.ionNavWillLoad = Object(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* e */ \"g\"])(this, \"ionNavWillLoad\", 7);\r\n    this.ionTabsWillChange = Object(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* e */ \"g\"])(this, \"ionTabsWillChange\", 3);\r\n    this.ionTabsDidChange = Object(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* e */ \"g\"])(this, \"ionTabsDidChange\", 3);\r\n    this.transitioning = false;\r\n    /** @internal */\r\n    this.useRouter = false;\r\n    this.onTabClicked = (ev) => {\r\n      const { href, tab } = ev.detail;\r\n      if (this.useRouter && href !== undefined) {\r\n        const router = document.querySelector('ion-router');\r\n        if (router) {\r\n          router.push(href);\r\n        }\r\n      }\r\n      else {\r\n        this.select(tab);\r\n      }\r\n    };\r\n  }\r\n  async componentWillLoad() {\r\n    if (!this.useRouter) {\r\n      this.useRouter = !!document.querySelector('ion-router') && !this.el.closest('[no-router]');\r\n    }\r\n    if (!this.useRouter) {\r\n      const tabs = this.tabs;\r\n      if (tabs.length > 0) {\r\n        await this.select(tabs[0]);\r\n      }\r\n    }\r\n    this.ionNavWillLoad.emit();\r\n  }\r\n  componentWillRender() {\r\n    const tabBar = this.el.querySelector('ion-tab-bar');\r\n    if (tabBar) {\r\n      const tab = this.selectedTab ? this.selectedTab.tab : undefined;\r\n      tabBar.selectedTab = tab;\r\n    }\r\n  }\r\n  /**\r\n   * Select a tab by the value of its `tab` property or an element reference.\r\n   *\r\n   * @param tab The tab instance to select. If passed a string, it should be the value of the tab's `tab` property.\r\n   */\r\n  async select(tab) {\r\n    const selectedTab = getTab(this.tabs, tab);\r\n    if (!this.shouldSwitch(selectedTab)) {\r\n      return false;\r\n    }\r\n    await this.setActive(selectedTab);\r\n    await this.notifyRouter();\r\n    this.tabSwitch();\r\n    return true;\r\n  }\r\n  /**\r\n   * Get a specific tab by the value of its `tab` property or an element reference.\r\n   *\r\n   * @param tab The tab instance to select. If passed a string, it should be the value of the tab's `tab` property.\r\n   */\r\n  async getTab(tab) {\r\n    return getTab(this.tabs, tab);\r\n  }\r\n  /**\r\n   * Get the currently selected tab.\r\n   */\r\n  getSelected() {\r\n    return Promise.resolve(this.selectedTab ? this.selectedTab.tab : undefined);\r\n  }\r\n  /** @internal */\r\n  async setRouteId(id) {\r\n    const selectedTab = getTab(this.tabs, id);\r\n    if (!this.shouldSwitch(selectedTab)) {\r\n      return { changed: false, element: this.selectedTab };\r\n    }\r\n    await this.setActive(selectedTab);\r\n    return {\r\n      changed: true,\r\n      element: this.selectedTab,\r\n      markVisible: () => this.tabSwitch(),\r\n    };\r\n  }\r\n  /** @internal */\r\n  async getRouteId() {\r\n    const tabId = this.selectedTab && this.selectedTab.tab;\r\n    return tabId !== undefined ? { id: tabId, element: this.selectedTab } : undefined;\r\n  }\r\n  setActive(selectedTab) {\r\n    if (this.transitioning) {\r\n      return Promise.reject('transitioning already happening');\r\n    }\r\n    this.transitioning = true;\r\n    this.leavingTab = this.selectedTab;\r\n    this.selectedTab = selectedTab;\r\n    this.ionTabsWillChange.emit({ tab: selectedTab.tab });\r\n    selectedTab.active = true;\r\n    return Promise.resolve();\r\n  }\r\n  tabSwitch() {\r\n    const selectedTab = this.selectedTab;\r\n    const leavingTab = this.leavingTab;\r\n    this.leavingTab = undefined;\r\n    this.transitioning = false;\r\n    if (!selectedTab) {\r\n      return;\r\n    }\r\n    if (leavingTab !== selectedTab) {\r\n      if (leavingTab) {\r\n        leavingTab.active = false;\r\n      }\r\n      this.ionTabsDidChange.emit({ tab: selectedTab.tab });\r\n    }\r\n  }\r\n  notifyRouter() {\r\n    if (this.useRouter) {\r\n      const router = document.querySelector('ion-router');\r\n      if (router) {\r\n        return router.navChanged('forward');\r\n      }\r\n    }\r\n    return Promise.resolve(false);\r\n  }\r\n  shouldSwitch(selectedTab) {\r\n    const leavingTab = this.selectedTab;\r\n    return selectedTab !== undefined && selectedTab !== leavingTab && !this.transitioning;\r\n  }\r\n  get tabs() {\r\n    return Array.from(this.el.querySelectorAll('ion-tab'));\r\n  }\r\n  render() {\r\n    return (Object(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"j\"])(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* H */ \"c\"], { onIonTabButtonClick: this.onTabClicked }, Object(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"j\"])(\"slot\", { name: \"top\" }), Object(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"j\"])(\"div\", { class: \"tabs-inner\" }, Object(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"j\"])(\"slot\", null)), Object(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"j\"])(\"slot\", { name: \"bottom\" })));\r\n  }\r\n  get el() { return Object(_index_3ccd7557_js__WEBPACK_IMPORTED_MODULE_0__[/* i */ \"k\"])(this); }\r\n};\r\nconst getTab = (tabs, tab) => {\r\n  const tabEl = (typeof tab === 'string')\r\n    ? tabs.find(t => t.tab === tab)\r\n    : tab;\r\n  if (!tabEl) {\r\n    console.error(`tab with id: \"${tabEl}\" does not exist`);\r\n  }\r\n  return tabEl;\r\n};\r\nTabs.style = tabsCss;\r\n\r\n\r\n\n\n/***/ })\n\n}]);","inputSourceMap":null}